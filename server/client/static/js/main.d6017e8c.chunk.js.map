{"version":3,"sources":["connector.jsx","assets/images/call.svg","assets/images/search.svg","Conversations/Search.jsx","assets/images/share.svg","hooks/helpers.jsx","App.jsx","hooks/FormattedSpan.jsx","Conversations/Chat.jsx","Conversations/LowBattery.jsx","assets/images/rocket.svg","assets/images/sync.svg","assets/images/changeUser.svg","assets/images/gear.svg","Conversations/Header.jsx","assets/images/icon.png","Chat/Spinner/index.jsx","Conversations/index.jsx","assets/audio/notification.ogg","assets/images/red.svg","assets/images/green.svg","assets/images/yellow.svg","assets/images/blue.svg","assets/images/orange.svg","assets/images/purple.svg","assets/images/back.svg","Chat/Header.jsx","assets/images/send.svg","assets/images/emoji.svg","assets/images/camera.svg","assets/images/bag.svg","assets/images/cancel.svg","assets/images/sucess.svg","assets/images/mic.svg","Chat/ChatBox/VoiceNote.jsx","Chat/ChatBox/MessageField.jsx","hooks/outslideClickListener.jsx","assets/images/delete.svg","assets/images/copy.svg","assets/images/reply.svg","assets/images/clock.svg","Chat/ChatBox/Bubble/QuoteBox.jsx","Chat/ChatBox/Bubble/PureText.jsx","Chat/ChatBox/Bubble/Image.jsx","Chat/ChatBox/Bubble/Sale.jsx","Chat/ChatBox/Bubble/VoiceMessage.jsx","Chat/ChatBox/Bubble/Sticker.jsx","Chat/ChatBox/Bubble/Video.jsx","Chat/ChatBox/Bubble/index.jsx","Chat/ChatBox/Bubble/Day.jsx","Chat/ChatBox/index.jsx","Chat/NoChat.jsx","assets/images/swap.svg","assets/images/income.svg","assets/images/outcome.svg","assets/images/inAndOut.svg","Chat/ContactDetails/Stats.jsx","Chat/ContactDetails/index.jsx","Chat/index.jsx","assets/images/logo.png","assets/images/loading.gif","modal/index.jsx","hooks/useInterval.jsx","serviceWorker.js","index.js","Conversations/index.module.css","Chat/ChatBox/index.module.css","Chat/index.module.css","Chat/ContactDetails/index.module.css","Chat/ChatBox/Bubble/index.module.css","App.module.css","Chat/Spinner/index.module.css","modal/modal.module.css"],"names":["url","socketParams","secure","query","access_token","localStorage","window","location","href","includes","unshift","params","webVersion","pkg","version","Search","handleNewContact","handleQuery","handleModal","useState","setQuery","queryPin","setQueryPin","className","classes","searchContainer","placeholder","type","value","onChange","val","target","onClick","classNames","pin","src","search","alt","newPhone","parseText","text","str","enter","strong","italic","newLine","lineBreak","Array","isArray","join","replace","socket","addedChats","idToPhone","id","parsed","slice","indexOf","ddd","lastPart","firstPart","length","FormattedSpan","emojiedText","renderToString","dangerouslySetInnerHTML","__html","FormattedP","calendarTexts","sameDay","nextDay","lastDay","lastWeek","sameElse","Chat","agents","data","handleClick","style","msg","setMsg","sent","setSent","backgroundColor","_","forEach","a","k","agentId","color","useEffect","lastMsg","messages","body","mine","loadMsgText","chat","profilePic","info","displayName","moment","lastMessageAt","calendar","message","sentImg","letter","firstLetter","unread","LowBattery","lowBattery","React","memo","Header","agent","logout","handleSettings","isLaunch","handleManualSync","fullName","salesAgentProfile","JSON","parse","userId","isLocal","useSavedData","header","bg","settings","change","launch","sync","Spinner","container","loader","Row","index","dataToShow","handleSelectChat","chatId","Conversations","handleNewContactModal","handleSettingsModal","showing","setDataToShow","filter","c","filtered","chatsList","height","width","itemData","itemCount","itemSize","handleBack","handleToggleDetails","onClickCapture","arrow","back","headerContent","name","nameContainer","title","recorder","MicRecorder","bitRate","secondsToTime","s","m","Math","floor","sec","round","parsedSec","isMobile","innerWidth","VoiceNote","setIsRecording","sendAudio","startedRecording","setStartedRecording","setAllowsRecording","audioURL","setAudioURL","seconds","setSeconds","timerId","setTimerId","handleRecord","e","console","log","preventDefault","stopRecording","startRecording","start","startTImer","t","setInterval","clear","stop","getMp3","then","blob","clearInterval","navigator","getUserMedia","audio","size","Boolean","voiceMessageRecorder","recording","sucess","cancel","record","mic","MessageField","handleChangeMessage","send","replyId","handleReply","rows","setRows","emoji","setEmoji","focused","salesButon","setSalesButton","isRecording","emojiRef","useRef","salesOptions","ref","funct","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","handlesendButton","emojiContainer","showPreview","showSkinTones","set","onSelect","native","emojiRoot","input","hide","camera","bag","emojiFace","onKeyDown","keyCode","shiftKey","persist","maxRows","previousRows","currentRows","scrollHeight","scrollTop","disabled","sendImg","BodyContent","QuoteBox","sender","quote","from","PureText","isGroup","senderName","buffer","time","timestamp","format","sending","clock","Image","showMedia","image","messageId","backgroundImage","highResImg","caption","Sale","sale","VoiceMessage","setAudio","playing","setPlaying","duration","setDuration","componentIsMounted","toggle","saveDuration","audioEl","audioBuff","Audio","error","sounds","getElementsByTagName","i","pause","play","alert","paused","audioController","Sticker","noBg","sticker","Video","Options","selected","handleDelete","options","reply","option","copy","clipboard","writeText","deleteIcon","Bubble","clicked","BubbleComponent","side","right","left","inS","setSelected","opacity","data-id","setTimeout","timeStamp","Day","day","center","more","loading","initialText","handleLoadMore","setMessage","scroll","setScroll","setReplyId","messagesEndRef","Date","scrollIntoView","map","last","isSame","loadMore","NoChat","centerContainer","noChat","Counters","incoming","outcoming","noTotal","counter","inArrow","outArrow","all","Stats","getDuration","ms","minutes","trunc","asHours","statsContainer","salesContacted","initialResponseTime","receivedMessages","sentMessages","receivedTexts","sentTexts","receivedAudios","sentAudios","receivedImages","sentImages","avgReceive","avgRespond","ContactDetails","handleClose","handleChangeName","show","stats","handlePin","setName","savedName","setSavedName","showHint","setShowHint","attendant","setAttendant","enterListener","blur","handleEsc","close","dataContainer","nameInput","onFocus","onBlur","hintBubble","salesAgent","me","swap","handleSend","handleSendAudio","showDetails","setShowDetails","setStats","avgArr","arr","sum","parseInt","msgs","avgTimeRespond","avgTimeRecieve","counts","daysOfConversation","abs","diff","interval","push","calculateStats","reverse","chatContainer","ChatBox","firstClick","localSettings","Modal","file","onClose","handleSendImage","handleNewChat","handleLogin","handleUpload","selectUser","saveSales","handleChangeSettings","handleSearch","passiveSearch","number","setNumber","password","setPassword","buttonDisabled","setButtonDisabled","setSettings","newNumber","sendImage","addContact","match","login","handleSaveSale","items","nbrRegex","salesInfo","totalValue","changeSettings","checked","newSettings","imagePadding","mainSrc","onCloseRequest","modalBackground","modal","opaque","update","qr","status","partial","total","offline","offlineButton","setItem","reload","absolutePosition","autoPlay","controls","reason","htmlFor","button","accept","capture","multiple","display","URL","createObjectURL","onSubmit","hidden","username","isSalesAgent","salesAgentId","action","stringify","changeSalesAgent","onValueChange","handleNumber","formattedValue","onclose","logo","noValidate","manageUsersLocally","saleType","colors","red","green","yellow","blue","orange","purple","initialChats","chats","initialSettings","admin","adminSettings","App","useImmer","setChats","currentChat","setCurrentChat","selectedChatIndex","setSelectedChatIndex","setModal","newChat","setNewChat","urlChecked","setUrlChecked","page","setPage","setLowBattery","URLMessageNumber","setURLMessageNumber","URLMessageText","setURLMessageText","setAdminSettings","notificationSound","checkOnline","axios","getStatus","loadChats","getUser","clearLoginData","response","evaluateStatus","onlineStates","connection","charging","battery","workingOffline","post","goTo","path","hash","io","on","removeItem","pathname","history","pushState","noBackExitsApp","res","addChatWithoutDuplicate","off","addMessageToConversations","addSentMessageToConversations","deleteMessagesFromChat","handleDBQuery","handleChangeAgent","updateAfterNewChat","idx","findIdxById","checkUrl","agentLetter","cacheConversations","callback","delay","savedCallback","useInterval","socketS","loadAgents","loadSettings","emit","chatsArr","findIndex","updateChat","obj","draft","key","hasOwnProperty","p","getChat","substring","decodeURIComponent","exec","phone","thisURL","split","formatted","removeNine","selectChat","curr","loadOldMessages","pic","isAdmin","loadMessages","patch","sound","viewOthersChats","random","unreadCount","toISOString","sort","b","handleSetAgent","waitingMessageIdx","remove","d","addWithoutDuplicate","msgArr","splice","chatArr","skipDuplicate","onlyMine","o","oc","customName","myPos","msgsNumber","backgroundContactQuery","to","string","get","contact","rawMessage","quoted","trim","valueOf","preventChatChange","customId","formData","FormData","append","headers","email","pwd","isSetup","confirm","img","resp","manualConnect","force","reset","owner","Error","wpp","importSettings","newAdm","deleteMessages","msgId","delete","deleted","pinned","queried","lowerStr","toLowerCase","salesMsg","main","files","pass","user","thisUser","String","hostname","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","VERSION","module","exports"],"mappings":"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","file":"static/js/main.d6017e8c.chunk.js","sourcesContent":["import pkg from \"../package.json\"\n\nlet url = \"/api/\"\n\nlet socketParams = [{\n  secure: true,\n  query: {\n    access_token: localStorage.access_token,\n  },\n}]\nif (window.location.href.includes(\"localhost\")) {\n  url = \"https://localhost:3001/api/\";\n  socketParams.unshift(\"https://localhost:3001/\")\n}\n\nexport {url, socketParams};\n\nexport const params = {\n  params: {\n    access_token: localStorage.access_token,\n  },\n};\n\nexport const webVersion = pkg.version;","export default __webpack_public_path__ + \"static/media/call.09b0b113.svg\";","export default __webpack_public_path__ + \"static/media/search.ec480aa4.svg\";","import React, { useState } from \"react\";\nimport classNames from \"classnames\";\n\nimport newPhone from \"../assets/images/call.svg\";\nimport search from \"../assets/images/search.svg\";\nimport classes from \"./index.module.css\";\n\nconst Search = ({ handleNewContact, handleQuery, handleModal }) => {\n  const [query, setQuery] = useState(\"\");\n  const [queryPin, setQueryPin] = useState(false);\n\n  const handleChangeQuery = ({ target }) => {\n    const val = target.value;\n\n    setQuery(val);\n    handleQuery(val, queryPin);\n  };\n  \n  const handleChangePin = () => {\n    setQueryPin(!queryPin);\n    handleQuery(query, !queryPin);\n  }\n  return (\n    <div className={classes.searchContainer}>\n      <input\n        placeholder=\"Pesquisar...\"\n        type=\"text\"\n        value={query}\n        onChange={handleChangeQuery}\n      />\n      <button onClick={handleChangePin}>\n        <div className={classNames(classes.pin, classes[queryPin])}></div>\n      </button>\n      <button onClick={() => handleModal(\"advancedSearch\")}>\n        <img src={search} alt=\"Busca avançada\" />\n      </button>\n      <button onClick={handleNewContact}>\n        <img src={newPhone} alt=\"Nova conversa\" />\n      </button>\n    </div>\n  );\n};\n\nexport default Search;\n","export default __webpack_public_path__ + \"static/media/share.d7b0a515.svg\";","import _ from \"lodash\";\n\nconst urlRegex = /([-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*))/g;\n\nexport const compareArrays = (x, y) => {\n  return _(x).xorWith(y, _.isEqual).isEmpty();\n};\n\nexport const cloneArray = (arr) => _.map(arr, _.clone);\n\nexport const deepDiff = (object, base) => {\n  function changes(object, base) {\n    return _.transform(object, function (result, value, key) {\n      if (!_.isEqual(value, base[key])) {\n        result[key] =\n          _.isObject(value) && _.isObject(base[key])\n            ? changes(value, base[key])\n            : value;\n      }\n    });\n  }\n  return changes(object, base);\n};\n\nexport const asyncLocalStorage = {\n  setItem: (key, value) => {\n    return Promise.resolve().then(localStorage.setItem(key, value));\n  },\n  getItem: (key) => {\n    return Promise.resolve().then(localStorage.getItem(key));\n  },\n};\n\nfunction urlify(txt) {\n  return txt\n    .split(\" \")\n    .map((part, i) => {\n      if (part.match(urlRegex)) {\n        const url = part.startsWith(\"http\") ? part : \"http://\" + part;\n        return (\n          `<a key=${i} rel=\"noopener noreferrer\" target=\"_blank\" href=${url}>` +\n          part +\n          \"</a>\"\n        );\n      }\n      return part;\n    })\n    .join(\" \");\n}\n\nexport function parseText(text, enter = true) {\n  const strong = /\\*(.+?)\\*/g;\n  const italic = /_(.+?)_/g;\n  const newLine = /\\n/g;\n  let lineBreak = \"<br />\";\n  let str;\n  if (typeof text === \"string\") {\n    str = text;\n  } else if (Array.isArray(text)) {\n    str = text.join(\" \");\n  }\n\n  if (!enter) {\n    lineBreak = \"&nbsp;\";\n  } else {\n    // str = urlify(str);\n  }\n\n  if (typeof str !== \"string\") {\n    return str;\n  } else {\n    return str\n      .replace(italic, \"<i>$1</i>\")\n      .replace(newLine, lineBreak)\n      .replace(strong, \"<b>$1</b>\");\n  }\n}\n\nexport const idToPhone = (id) => {\n  const parsed = id.slice(2, id.indexOf(\"@\"));\n  const ddd = parsed.slice(0, 2);\n  const lastPart = parsed.slice(-4);\n  let firstPart = parsed.slice(2, -4);\n  if (firstPart.length === 4) {\n    firstPart = \"9\" + firstPart;\n  }\n  return `(${ddd}) ${firstPart}-${lastPart}`;\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport \"moment/locale/pt-br\";\nimport io from \"socket.io-client\";\nimport { useImmer } from \"use-immer\";\n\nimport { url, socketParams, params, webVersion } from \"./connector\";\n\nimport useInterval from \"./hooks/useInterval\";\nimport classes from \"./App.module.css\";\nimport Conversations from \"./Conversations\";\nimport notificationSound from \"./assets/audio/notification.ogg\";\nimport { idToPhone } from \"./hooks/helpers\";\n\nimport red from \"./assets/images/red.svg\";\nimport green from \"./assets/images/green.svg\";\nimport yellow from \"./assets/images/yellow.svg\";\nimport blue from \"./assets/images/blue.svg\";\nimport orange from \"./assets/images/orange.svg\";\nimport purple from \"./assets/images/purple.svg\";\nimport Chat from \"./Chat\";\nimport Modal from \"./modal\";\n\nconst colors = [red, green, yellow, blue, orange, purple];\nconst initialChats = JSON.parse(localStorage.chats || 0);\nconst initialSettings = JSON.parse(localStorage.settings || 0) || {\n  manageUsersLocally: false,\n  salesOptions: false,\n};\nconst admin = JSON.parse(localStorage.adminSettings || 0);\n\nwindow.webVersion = webVersion;\n\nlet socket, addedChats;\nconst App = () => {\n  const [chats, setChats] = useImmer(initialChats || []);\n  const [currentChat, setCurrentChat] = useState();\n  const [selectedChatIndex, setSelectedChatIndex] = useState();\n  const [modal, setModal] = useState(null);\n  const [newChat, setNewChat] = useState(null);\n  const [urlChecked, setUrlChecked] = useState(false);\n  const [page, setPage] = useState(\"conversations\");\n  const [lowBattery, setLowBattery] = useState(false);\n  const [settings, setSettings] = useState(initialSettings);\n  const [URLMessageNumber, setURLMessageNumber] = useState(\"\");\n  const [URLMessageText, setURLMessageText] = useState(\"\");\n  const [adminSettings, setAdminSettings] = useState(admin || {});\n  const isMobile = window.innerWidth <= 600;\n  const audio = new Audio(notificationSound);\n  const me = localStorage.salesAgentId || localStorage.userId;\n  const isLaunch = !!adminSettings.launch;\n  window.me = me;\n\n  // function sleep(ms) {\n  //   return new Promise((resolve) => setTimeout(resolve, ms));\n  // }\n\n  const checkOnline = async () => {\n    try {\n      const isSetup = (await axios(`${url}chats/online`, params)).data;\n      if (isSetup || localStorage.useSavedData) {\n        getStatus();\n        await loadChats(socket);\n        getUser(); // TODO carregar as configs do user\n        window.socket = socket;\n      } else {\n        alert(\n          \"Ops, sua conexão foi perdida. Continue para sincronizar novamente.\"\n        );\n        clearLoginData();\n        window.location.reload(true);\n      }\n    } catch (error) {\n      if (error.response.status === 401) {\n        alert(\n          \"Fizemos alguns ajustes por aqui, e você vai ter que logar novamente\"\n        );\n        clearLoginData();\n        window.location.reload(true);\n      }\n    }\n  };\n\n  const evaluateStatus = (data) => {\n    const onlineStates = [\"TIMEOUT\", \"CONNECTED\", \"PAIRING\", \"OPENING\"];\n    if (!onlineStates.includes(data.connection) && !localStorage.useSavedData) {\n      window.workingOffline = true;\n      console.log(\"OFFLINE\", data);\n      setModal({ type: \"offline\", reason: data.connection });\n      axios.post(`${url}/chats/refocus`, {}, params);\n    } else if (\n      onlineStates.includes(data.connection) &&\n      modal &&\n      modal.type === \"offline\"\n    ) {\n      setModal(false);\n    } else if (!data.charging && data.battery < 20) {\n      setLowBattery(true);\n    } else if (data.charging || data.battery > 20) {\n      setLowBattery(false);\n    }\n  };\n\n  const getStatus = async () => {\n    const { data } = await axios(`${url}chats/status`, params);\n    evaluateStatus(data);\n  };\n\n  const cacheConversations = () => {\n    const parsed = chats.map(\n      ({\n        displayName,\n        agentLetter,\n        chatId,\n        lastMessageAt,\n        type,\n        messages,\n        profilePic,\n      }) => ({\n        displayName,\n        agentLetter,\n        chatId,\n        lastMessageAt,\n        type,\n        messages: [messages[0]],\n        filtered: true,\n        firstClick: false,\n        profilePic,\n      })\n    );\n    localStorage.setItem(\"chats\", JSON.stringify(parsed));\n  };\n\n  const goTo = (path) => {\n    switch (path) {\n      case \"conversations\":\n        setPage(\"conversations\");\n        window.location.hash = \"\";\n        break;\n      case \"chat\":\n        setPage(\"chat\");\n        window.location.hash = \"chat\";\n        break;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    window.agents = JSON.parse(localStorage.agents || 0);\n    if (localStorage.access_token) {\n      checkOnline();\n      socket = io(...socketParams);\n      socket.on(\"reload\", () => {\n        localStorage.removeItem(\"chats\");\n        window.location.reload(true);\n      });\n      socket.on(\"status\", (data) => {\n        console.log(data);\n        evaluateStatus(data);\n      });\n      socket.on(\"loadedAMessage\", (data) => {\n        if (data.total) {\n          setModal({ type: \"qr\", status: \"loading\", ...data });\n        } else {\n          setModal({ ...modal, ...data });\n        }\n      });\n    } else {\n      clearLoginData();\n      setModal({\n        type: \"login\",\n      });\n    }\n    if (!localStorage.settings) {\n      localStorage.setItem(\n        \"settings\",\n        JSON.stringify({\n          manageUsersLocally: false,\n          salesOptions: false,\n        })\n      );\n      // window.location.reload(true);\n    } else if (\n      window.location.pathname === \"/\" &&\n      JSON.parse(localStorage.settings).manageUsersLocally\n    ) {\n      setModal({ type: \"selectUser\" });\n    }\n    window.addEventListener(\"load\", function () {\n      window.history.pushState({ noBackExitsApp: true }, \"\");\n    });\n    window.addEventListener(\"hashchange\", navigator);\n  }, []);\n\n  useEffect(() => {\n    console.log(\"UPDATED\");\n    if (!socket) {\n      return;\n    }\n    socket.on(\"loadedChats\", (res) => {\n      console.log(res);\n      addChatWithoutDuplicate(res.data);\n    });\n    return () => {\n      socket.off(\"loadedChats\");\n    };\n  }, [adminSettings]);\n\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"newMessage\", (data) => {\n        console.log(\"recieved\", data);\n        addMessageToConversations(data);\n      });\n      socket.on(\"sentMessage\", (data) => {\n        addSentMessageToConversations(data);\n      });\n      socket.on(\"deleteMsgs\", (data) => {\n        deleteMessagesFromChat(data);\n      });\n      socket.on(\"queryResult\", (res) => {\n        handleDBQuery(res);\n      });\n      socket.on(\"setAgent\", (data) => {\n        handleChangeAgent(data);\n      });\n    }\n    if (newChat && chats[0].chatId === newChat.chatId) {\n      updateAfterNewChat(chats[0].chatId);\n    }\n    return () => {\n      if (socket) {\n        socket.off(\"newMessage\");\n        socket.off(\"setAgent\");\n        socket.off(\"sentMessage\");\n        socket.off(\"queryResult\");\n      }\n    };\n  }, [chats, newChat]);\n\n  useEffect(() => {\n    let idx = findIdxById(currentChat);\n    if (selectedChatIndex !== idx) {\n      setSelectedChatIndex(idx);\n    }\n    if (chats.length && !urlChecked) {\n      setUrlChecked(true);\n      checkUrl();\n    }\n    cacheConversations();\n  }, [chats]);\n\n  useInterval(() => {\n    if (modal && modal.type === \"offline\") {\n      getStatus();\n    }\n  }, 5000);\n\n  const navigator = () => {\n    const path = window.location.hash;\n\n    if (!path) {\n      setPage(\"conversations\");\n    } else if (path === \"#chat\") {\n      setPage(\"chat\");\n    }\n  };\n\n  const loadChats = async (socketS) => {\n    localStorage.removeItem(\"chats\");\n    loadAgents();\n    loadSettings();\n    console.log(\"requesting chats\");\n    socketS.emit(\"getChats\");\n  };\n\n  const findIdxById = (id, chatsArr = chats) => {\n    return chatsArr.findIndex((c) => c.chatId === id);\n  };\n\n  const updateChat = (obj, id) => {\n    let idx = findIdxById(id);\n    setChats((draft) => {\n      for (const key in obj) {\n        if (obj.hasOwnProperty(key) && idx >= 0) {\n          const p = obj[key];\n          draft[idx][key] = p;\n        }\n      }\n    });\n  };\n\n  const getChat = async (id) => {\n    const res = await axios(`${url}chats/findChat/${id}`, params);\n    if (res.data.length) {\n      handleDBQuery([res.data]);\n    }\n  };\n\n  const checkUrl = async () => {\n    const search = window.location.search.substring(1);\n    let number, removeNine, parsed, formatted;\n    if (search) {\n      const parsed = JSON.parse(\n        '{\"' + search.replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}',\n        (key, value) => (key === \"\" ? value : decodeURIComponent(value))\n      );\n      number = /^55(\\d{2})([89]?)(\\d{4})(\\d{4})$/g.exec(parsed.phone);\n      setURLMessageText(parsed.text);\n      console.log(parsed.text);\n    } else {\n      const thisURL = window.location.pathname.split(\"/\")[1];\n      if (thisURL.length < 12) {\n        return;\n      }\n      number = /^55(\\d{2})([89]?)(\\d{4})(\\d{4})$/g.exec(thisURL);\n    }\n    if (!number) {\n      return;\n    }\n    parsed = 55 + number[1] + number[2] + number[3] + number[4] + \"@c.us\";\n    formatted = `(${number[1]}) ${number[2] || 9}${number[3]}-${number[4]}`;\n    removeNine = parsed.substring(0, 4) + parsed.substring(5, parsed.length);\n    setURLMessageNumber(formatted);\n    if (findIdxById(removeNine) >= 0) {\n      selectChat(removeNine);\n    } else if (findIdxById(parsed) >= 0) {\n      selectChat(parsed);\n    } else {\n      setModal({\n        type: \"newChat\",\n        newNumber: formatted,\n      });\n      getChat(number[3] + number[4]);\n    }\n    window.history.pushState({}, \"Zoppy\", \"/\");\n    window.location.hash = \"\";\n  };\n\n  const selectChat = async (id) => {\n    let index = findIdxById(id);\n    const curr = chats[index];\n    setNewChat(false);\n    loadOldMessages(null, id);\n    goTo(\"chat\");\n    setCurrentChat(curr.chatId);\n    setSelectedChatIndex(index);\n    console.log(\"54546654\", chats[index].messages);\n    let pic = {};\n\n    try {\n      pic = await axios(`${url}chats/${curr.chatId}/profilePic`, params);\n    } catch (error) {\n      console.log(\"fail to load pic\");\n    }\n    const obj = { unread: 0, profilePic: pic.data || curr.profilePic };\n    if (settings.isAdmin) {\n      delete obj.unread;\n    }\n    if (curr.firstClick) {\n      const msgs = await loadMessages(curr.chatId);\n\n      updateChat({ messages: msgs, firstClick: false, ...obj }, curr.chatId);\n    } else {\n      updateChat(obj, curr.chatId);\n    }\n    if (!settings.isAdmin) {\n      axios.patch(`${url}chats/${curr.chatId}/seen`, {}, params);\n    }\n  };\n\n  const handleChangeName = async (name, id = currentChat) => {\n    try {\n      await axios.patch(\n        `${url}chats/${id}/name`,\n        {\n          name,\n        },\n        params\n      );\n\n      const idx = findIdxById(id);\n      setChats((draft) => {\n        draft[idx].displayName = name;\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const loadMessages = async (id) => {\n    const msgs = await axios(`${url}chats/${id}/messages`, params);\n    return msgs.data;\n  };\n\n  const addMessageToConversations = (data) => {\n    let sound;\n    const msg = data.message;\n\n    const idx = findIdxById(msg.chatId, chats);\n    console.log(idx, data);\n    if (!adminSettings.viewOthersChats && data.agentId && data.agentId !== me) {\n      return;\n    }\n    if (idx < 0) {\n      data.profilePic = colors[Math.floor(Math.random() * 6)];\n      data.displayName = idToPhone(msg.chatId);\n      data.firstClick = true;\n      data.more = true;\n      data.unread = 1;\n      data.filtered = true;\n      data.messages = [msg];\n      data.chatId = msg.chatId;\n      if (!msg.mine) {\n        audio.play();\n      }\n      setChats((draft) => {\n        draft.unshift(data);\n      });\n      return;\n    }\n\n    if (data.chatId !== currentChat && msg.type !== \"sale\") {\n      const notifyable = !chats[idx].agentId || chats[idx].agentId === me;\n      if (\n        notifyable &&\n        msg.timestamp >= chats[idx].lastMessageAt &&\n        !msg.mine\n      ) {\n        sound = true;\n      }\n    }\n\n    let unreadCount = chats[idx].unread;\n    if (idx !== selectedChatIndex && !msg.mine) {\n      if (unreadCount) {\n        unreadCount += 1;\n      } else {\n        unreadCount = 1;\n      }\n    }\n\n    setChats((draft) => {\n      draft[idx].messages.unshift(data.message);\n      draft[idx].lastMessageAt =\n        data.message.timestamp || new Date().toISOString();\n      draft[idx].unread = unreadCount;\n      draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n    });\n\n    sound && audio.play();\n    if (selectedChatIndex >= 0 && idx > selectedChatIndex) {\n      setSelectedChatIndex(selectedChatIndex + 1);\n    }\n  };\n\n  // const handleRecieveChats = ({ data, count }) => {\n  //   const chts = data.map((c) => {\n  //     const image = colors[Math.floor(Math.random() * 6)];\n  //     c.profilePic = c.profilePic || image;\n  //     c.firstClick = true;\n  //     c.filtered = true;\n  //     c.more = true;\n  //     c.displayName = c.customName || c.name;\n  //     if (c.messages.length && c.messages[0].mine) {\n  //       c.unread = 0;\n  //     }\n  //     return c;\n  //   });\n\n  //   if (!count) {\n  //     console.log(\"STARTING\");\n  //     setChats(() => chts);\n  //   } else {\n  //     setChats((draft) => {\n  //       draft.push(...chts);\n  //       draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n  //     });\n  //   }\n  // };\n\n  const updateAfterNewChat = (chatId) => {\n    console.log(findIdxById(chatId));\n    console.log(chats[0]);\n    handleSetAgent(false, chatId);\n    setSelectedChatIndex(0);\n    selectChat(chatId);\n  };\n\n  const addSentMessageToConversations = (msg) => {\n    const data = { chatId: msg.chatId, message: msg };\n\n    console.log(msg);\n    const idx = findIdxById(data.chatId);\n    if (newChat && msg.agentId === me) {\n      console.log(\"adding\");\n    } else if (idx < 0 && !adminSettings.viewOthersChats) {\n      return;\n    }\n    if (idx < 0) {\n      data.profilePic = colors[Math.floor(Math.random() * 6)];\n      data.displayName = idToPhone(data.chatId);\n      data.filtered = true;\n      data.messages = [msg];\n      setChats((draft) => {\n        draft.unshift(data);\n      });\n      return;\n    }\n\n    const waitingMessageIdx = chats[idx].messages.findIndex(\n      (m) => m.sending && m.body === msg.body\n    );\n    setChats((draft) => {\n      _.remove(draft[idx].messages, (d) => d.messageId === msg.messageId);\n      if (waitingMessageIdx >= 0) {\n        draft[idx].messages[waitingMessageIdx] = msg;\n      } else {\n        draft[idx].messages.unshift(msg);\n      }\n      draft[idx].lastMessageAt = msg.timestamp || new Date().toISOString();\n      draft[idx].unread = 0;\n      draft[idx].messages.sort((a, b) => (a.timestamp < b.timestamp ? 1 : -1)); // TODO improve it\n      draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n    });\n    if (waitingMessageIdx >= 0) {\n      setSelectedChatIndex(0);\n    }\n  };\n\n  const addWithoutDuplicate = (msgArr) => {\n    const idx = findIdxById(msgArr[0].chatId);\n    setChats((draft) => {\n      if (draft[idx] && draft[idx].messages[0] === \"none\") {\n        draft[idx].messages.splice(0, 1);\n      }\n      msgArr.forEach((m) => {\n        const i = draft[idx].messages.findIndex(\n          (c) => c.messageId === m.messageId\n        );\n        if (i < 0) {\n          draft[idx].messages.push(m);\n        }\n      });\n    });\n  };\n\n  const addChatWithoutDuplicate = (chatArr, skipDuplicate) => {\n    console.log(adminSettings);\n    const onlyMine = !adminSettings.viewOthersChats;\n    setChats((draft) => {\n      if (!addedChats) {\n        addedChats = 1;\n        draft.splice(0, draft.length);\n      }\n      chatArr.forEach((o) => {\n        const c = { ...o };\n        const image = colors[Math.floor(Math.random() * 6)];\n        const i = draft.findIndex((oc) => oc.chatId === c.chatId);\n        c.profilePic = c.profilePic || image;\n        c.filtered = true;\n        c.displayName = c.name;\n        c.more = true;\n        c.firstClick = true;\n        c.displayName = c.customName || c.name;\n        if (onlyMine && c.agentId && window.me !== c.agentId) {\n          return;\n        }\n        if (!c.messages || !c.messages.length) {\n          c.messages = [\"none\"];\n        } else if (c.messages.length && c.messages[0].mine) {\n          c.unread = 0;\n        }\n        if (i < 0) {\n          draft.push(c);\n        } else if (!skipDuplicate) {\n          draft[i] = c;\n        }\n      });\n      draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n      const myPos = draft.findIndex((c) => c.chatId === currentChat);\n      setSelectedChatIndex(myPos);\n    });\n  };\n\n  const loadOldMessages = async (e, chatId = currentChat) => {\n    const idx = findIdxById(chatId);\n    const curr = [...chats];\n    let msgsNumber = curr[idx].messages.length;\n    if (curr[idx].messages[0] === \"none\") {\n      msgsNumber = 0;\n    }\n    const msgs = await axios(\n      `${url}chats/${chatId}/messages?filter={\"skip\":${msgsNumber}}`,\n      params\n    );\n\n    if (!msgs.data.length) {\n      console.log(\"no msgs\");\n      updateChat({ more: false }, chatId);\n    } else {\n      addWithoutDuplicate(msgs.data);\n    }\n  };\n\n  const backgroundContactQuery = async (to) => {\n    const removeNine = to.substring(0, 4) + to.substring(5, to.length);\n    socket.emit(\"queryChat\", { string: removeNine });\n  };\n\n  const handleNewContact = async (name, to) => {\n    const removeNine = to.substring(0, 4) + to.substring(5, to.length);\n    const idx2 = findIdxById(removeNine);\n    if (idx2 >= 0) {\n      selectChat(removeNine);\n      setModal(false);\n      return;\n    }\n    const idx = findIdxById(to);\n    if (idx >= 0) {\n      selectChat(to);\n      setModal(false);\n      return;\n    }\n    const contact = await axios.get(`${url}chats/${to}/check`, params);\n    if (!contact.data) {\n      alert(\"Esse número não tem WhatsApp! Tente novamente\");\n      setModal(false);\n      setModal({ type: \"newChat\" });\n      return;\n    }\n    const chat = {\n      profilePic: colors[Math.floor(Math.random() * 6)],\n      chatId: contact.data,\n      displayName: name,\n      messages: [\"none\"],\n      type: \"chat\",\n      timestamp: 0,\n    };\n    goTo(\"chat\");\n    setNewChat(chat);\n    setModal(false);\n  };\n\n  const send = async (rawMessage, quoted, to = currentChat, attempt = 0) => {\n    console.log(rawMessage, quoted);\n    let from;\n    const message = rawMessage.trim();\n    // setLastSentMessage(new Date());\n    if (!message) {\n      return;\n    }\n    if (newChat) {\n      to = newChat.chatId;\n    }\n    if (settings.manageUsersLocally && localStorage.salesAgentId) {\n      from = localStorage.salesAgentId;\n    }\n    console.log(\"sending\");\n    let id = new Date().valueOf();\n    const data = {\n      messageId: id,\n      mine: true,\n      agentId: me,\n      body: message,\n      timestamp: new Date().toISOString(),\n      sending: true,\n      type: \"chat\",\n      sender: \"Você\",\n      chatId: to,\n    };\n    if (to === currentChat) {\n      const idx = selectedChatIndex;\n      if (chats[idx].agentId !== me && !settings.preventChatChange) {\n        handleSetAgent();\n      }\n      setChats((draft) => {\n        draft[idx].messages.unshift(data);\n      });\n    } else {\n      setNewChat({ ...newChat, messages: [data] });\n    }\n\n    try {\n      await axios.post(\n        `${url}chats/${to}/send`,\n        {\n          message,\n          from,\n          customId: id,\n          quoted,\n        },\n        params\n      );\n    } catch (error) {\n      console.log(error);\n      // if (attempt < 3) {\n      //   sleep(200);\n      //   await send(message, quoted, to, attempt + 1);\n      // } else {\n      throw error;\n      // }\n    }\n  };\n\n  const handleSendAudio = async (e) => {\n    const file = e;\n    const formData = new FormData();\n    formData.append(\"\", file);\n\n    const msg = await axios.post(\n      `${url}chats/${currentChat}/sendAudio`,\n      formData,\n      {\n        ...params,\n        headers: {\n          accept: \"application/json\",\n          \"Content-Type\": \"application/form-data\",\n        },\n      }\n    );\n    console.log(msg);\n  };\n\n  const handleShowMedia = (type, id) => {\n    setModal({ type, id });\n  };\n\n  const handleUploadModal = (e) => {\n    e.persist();\n    console.log(e.target.files[0]);\n    setModal({\n      data: e.target.files[0],\n      type: \"photoUpload\",\n      format: e.target.files[0].type.includes(\"video\") ? \"video\" : \"photo\",\n    });\n    e.target.value = null;\n  };\n\n  const handleNewContactModal = () => {\n    setModal({\n      type: \"newChat\",\n      newNumber: URLMessageNumber,\n    });\n    setURLMessageNumber(\"\");\n  };\n\n  const selectUser = (user) => {\n    localStorage.setItem(\"salesAgentId\", user);\n    const thisUser = window.agents[user];\n    localStorage.setItem(\"salesAgentProfile\", JSON.stringify(thisUser));\n    setModal(false);\n  };\n\n  const handleSendImage = async (caption) => {\n    const file = modal.data;\n    const formData = new FormData();\n    formData.append(\"\", file);\n    formData.append(\"caption\", caption);\n\n    await axios.post(`${url}chats/${currentChat}/sendMedia`, formData, {\n      ...params,\n      headers: {\n        accept: \"application/json\",\n        \"Content-Type\": \"application/form-data\",\n      },\n    });\n\n    // const idx = findIdxById(currentChat);\n\n    // setChats((draft) => {\n    //   draft[idx].messages.unshift(msg.data);\n    // });\n    setModal(false);\n    return true;\n  };\n\n  const login = async (email, pwd) => {\n    let type = \"username\";\n    if (email.includes(\"@\")) {\n      type = \"email\";\n    }\n    try {\n      const res = await axios.post(`${url}agents/login`, {\n        [type]: email,\n        password: pwd,\n      });\n      localStorage.setItem(\"access_token\", res.data.id);\n      localStorage.setItem(\"userId\", res.data.userId);\n      const isSetup = (\n        await axios(`${url}chats/online`, {\n          params: {\n            access_token: res.data.id,\n          },\n        })\n      ).data;\n      console.log(isSetup);\n      if (isSetup || localStorage.useSavedData) {\n        localStorage.setItem(\"connected\", true);\n        window.location.reload(true);\n      } else {\n        const sure = window.confirm(\n          \"O celular está desconectado da Zoppy. Confira sua conexão. Caso esteja com o celular em mãos e queira configurar novamente, pressione ok\"\n        );\n        if (!sure) {\n          window.alert(\"Avise o responsável sobre o erro de conexão!\");\n          return;\n        }\n        socket = io(...socketParams);\n        socket.on(\"scanned\", () => {\n          console.log(\"SCANNED\");\n          setModal({ type: \"qr\", status: \"scanned\" });\n        });\n        socket.on(\"reload\", () => {\n          window.location.reload(true);\n        });\n        socket.on(\"QR\", (img) => {\n          console.log(img);\n          setModal({\n            type: \"qr\",\n            qr: img,\n          });\n        });\n        const resp = await axios.post(\n          `${url}chats/init`,\n          {},\n          {\n            params: {\n              access_token: res.data.id,\n            },\n          }\n        );\n        localStorage.removeItem(\"chats\");\n        setModal({\n          type: \"qr\",\n          offline: resp.data,\n        });\n      }\n    } catch (error) {\n      console.log(error);\n      alert(\"Email ou senha incorreto\");\n    }\n  };\n\n  const manualConnect = async () => {\n    socket = io(...socketParams);\n    socket.on(\"scanned\", () => {\n      console.log(\"SCANNED\");\n      setModal({ type: \"qr\", status: \"scanned\" });\n    });\n    socket.on(\"reload\", () => {\n      window.location.reload(true);\n    });\n    socket.on(\"QR\", (img) => {\n      console.log(img);\n      setModal({\n        type: \"qr\",\n        qr: img,\n      });\n    });\n    await axios.post(\n      `${url}chats/init`,\n      { force: true, reset: true, owner: localStorage.userId },\n      params\n    );\n    localStorage.removeItem(\"chats\");\n    setModal({\n      type: \"qr\",\n    });\n  };\n\n  const clearLoginData = () => {\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"connected\");\n  };\n\n  const logout = async (force) => {\n    if (settings.manageUsersLocally && !force) {\n      setModal({ type: \"selectUser\" });\n    } else {\n      await axios.post(`${url}agents/logout`, {}, params);\n      clearLoginData();\n      setModal({ type: \"login\" });\n    }\n  };\n\n  const handleSetAgent = async (val, chat = currentChat) => {\n    try {\n      await axios.patch(\n        `${url}chats/${chat}/claim`,\n        {\n          remove: !!val,\n          customId: localStorage.salesAgentId,\n        },\n        params\n      );\n    } catch (error) {\n      console.log(error.response);\n      alert(error.response.message);\n      throw new Error(\"error\");\n    }\n  };\n\n  const handleChangeAgent = (data) => {\n    console.log(data);\n    const onlyMine = !adminSettings.viewOthersChats;\n    const { agentId, agentLetter } = data;\n    const idx = findIdxById(data.chatId);\n    if (idx >= 0) {\n      setChats((draft) => {\n        console.log(idx);\n        draft[idx].agentId = agentId;\n        draft[idx].agentLetter = agentLetter;\n        if (onlyMine && agentId && agentId !== me) {\n          draft.splice(idx, 1);\n        }\n      });\n    } else if (onlyMine && !agentId) {\n      console.log(\"searching\");\n      handleQuery(data.chatId.slice(0, 11));\n      handleQuery(\"\");\n    }\n  };\n\n  const loadAgents = async () => {\n    try {\n      const { data } = await axios(`${url}agents/list`, params);\n      data.wpp = { fullName: \"WhatsApp\" };\n      window.agents = data;\n      localStorage.setItem(\"agents\", JSON.stringify(data));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const loadSettings = async () => {\n    try {\n      const { data } = await axios(`${url}admins`, params);\n      localStorage.setItem(\"adminSettings\", JSON.stringify(data));\n      if (data.importSettings) {\n        localStorage.setItem(\"useSavedData\", 1);\n      }\n      console.log(data);\n      setAdminSettings(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getUser = async () => {\n    try {\n      const { data } = await axios(\n        `${url}agents/${localStorage.userId}`,\n        params\n      );\n      if (data.settings) {\n        setSettings(data.settings);\n      }\n      if (data.settings && data.settings.isAdmin && adminSettings) {\n        console.log(data.settings);\n        const newAdm = { ...adminSettings, viewOthersChats: true };\n        localStorage.setItem(\"settings\", JSON.stringify(newAdm));\n        setAdminSettings(newAdm);\n        socket.emit(\"getChats\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const deleteMessages = async (msgId) => {\n    try {\n      await axios.delete(`${url}chats/${currentChat}/deleteMessages`, {\n        data: [msgId],\n        params: { access_token: params.params.access_token },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const deleteMessagesFromChat = ({ chatId, deleted }) => {\n    const idx = findIdxById(chatId);\n    setChats((draft) => {\n      _.remove(draft[idx].messages, (d) => deleted.includes(d.messageId));\n    });\n  };\n\n  const handleDBQuery = ({ res, pinned, string }) => {\n    if (!res) {\n      return;\n    }\n    const queried = res.map((c) => {\n      const lowerStr = string.toLowerCase();\n      let str = true;\n      let pin = true;\n      if (string) {\n        str =\n          (c.displayName && c.displayName.toLowerCase().includes(lowerStr)) ||\n          c.chatId.slice(2, 12).includes(lowerStr);\n      }\n      if (pinned) {\n        pin = c.agentId === me;\n      }\n      c.filtered = str && pin;\n      return c;\n    });\n    if (queried.length) {\n      addChatWithoutDuplicate(queried, true);\n    }\n  };\n\n  const handleQuery = (string, pinned) => {\n    socket.emit(\"queryChat\", { pinned, string });\n    setChats((draft) => {\n      draft.map((c) => {\n        const lowerStr = string.toLowerCase();\n        let str = true;\n        let pin = true;\n        if (string) {\n          str =\n            (c.displayName && c.displayName.toLowerCase().includes(lowerStr)) ||\n            c.chatId.slice(2, 12).includes(lowerStr);\n        }\n        if (pinned) {\n          pin = c.agentId === me;\n        }\n        c.filtered = str && pin;\n        return c;\n      });\n    });\n  };\n\n  const handleAdvancedSearch = (agent, unread) => {\n    setModal(false);\n    setChats((draft) => {\n      draft.map((c) => {\n        let pass = false;\n        if (agent === \"all\" && !unread) {\n          pass = true;\n        } else if (agent === \"all\" && unread && c.unread) {\n          pass = true;\n        } else if (c.agentId === agent && !unread) {\n          pass = true;\n        } else if (c.agentId === agent && unread && c.unread) {\n          pass = true;\n        }\n        c.filtered = pass;\n        return c;\n      });\n    });\n  };\n\n  const handleSettingsModal = () => {\n    setModal({\n      type: \"settings\",\n      settings,\n    });\n  };\n\n  const handleChangeSettings = (data) => {\n    setSettings(data);\n    localStorage.setItem(\"settings\", JSON.stringify(data));\n    if (!data.manageUsersLocally) {\n      localStorage.removeItem(\"salesAgentProfile\");\n      localStorage.removeItem(\"salesAgentId\");\n    }\n  };\n\n  const saveSales = async (data) => {\n    data.agentId = me;\n    data.chatId = currentChat;\n    const salesMsg = await axios.post(`${url}sales/new`, data, params);\n    console.log(salesMsg);\n    addMessageToConversations({\n      chatId: salesMsg.data.chatId,\n      message: salesMsg.data,\n    });\n    setModal(false);\n  };\n\n  const handleModal = (type) => {\n    setModal({ type });\n  };\n\n  return (\n    <main className={classes.main}>\n      <Modal\n        file={modal}\n        onClose={() => setModal(false)}\n        handleSendImage={handleSendImage}\n        handleNewChat={handleNewContact}\n        handleChangeSettings={handleChangeSettings}\n        handleLogin={login}\n        handleUpload={handleUploadModal}\n        handleSearch={handleAdvancedSearch}\n        saveSales={saveSales}\n        selectUser={selectUser}\n        passiveSearch={backgroundContactQuery}\n      />\n      <div className={classes.container}>\n        <Conversations\n          showing={String(isMobile && page === \"conversations\")}\n          data={chats}\n          handleSettingsModal={handleSettingsModal}\n          handleManualSync={manualConnect}\n          logout={logout}\n          isLaunch={isLaunch}\n          handleQuery={handleQuery}\n          handleSelectChat={selectChat}\n          lowBattery={lowBattery}\n          handleNewContactModal={handleNewContactModal}\n          handleModal={handleModal}\n        />\n        <Chat\n          initialText={URLMessageText}\n          handleBack={() => goTo(\"conversations\")}\n          showing={String(isMobile && page === \"chat\")}\n          handleModal={handleModal}\n          handleSendAudio={handleSendAudio}\n          showMedia={handleShowMedia}\n          handleSend={send}\n          handleDelete={deleteMessages}\n          handleChangeName={handleChangeName}\n          handleLoadMore={loadOldMessages}\n          chat={newChat || chats[selectedChatIndex]}\n          handlePin={handleSetAgent}\n        />\n      </div>\n    </main>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport { renderToString } from \"react-dom/server\";\nimport { Emojione } from 'react-emoji-render';\n\nimport { parseText } from \"./helpers\";\n\nconst FormattedSpan = ({ text, enter }) => {\n  const emojiedText = renderToString(<Emojione text={text} />);\n\n  return (\n    <span dangerouslySetInnerHTML={{ __html: parseText(emojiedText, enter) }}></span>\n  );\n};\n\nexport default FormattedSpan;\n\nexport const FormattedP = ({ text, enter }) => {\n  const emojiedText = renderToString(<Emojione text={text} />);\n\n  return (\n    <p dangerouslySetInnerHTML={{ __html: parseText(emojiedText, enter) }}></p>\n  );\n};\n\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\n\nimport classes from \"./index.module.css\";\n\nimport sentImg from \"../assets/images/share.svg\";\nimport { parseText } from \"../hooks/helpers\";\nimport { FormattedP } from \"../hooks/FormattedSpan\";\n\nconst calendarTexts = {\n  sameDay: \"HH:mm\",\n  nextDay: \"[Tomorrow]\",\n  lastDay: \"[Ontem]\",\n  lastWeek: \"dddd\",\n  sameElse: \"DD/MM/YYYY\",\n};\n\nconst Chat = ({ data, handleClick, style }) => {\n  const [msg, setMsg] = useState(\"\");\n  const [sent, setSent] = useState();\n  let agents;\n  let backgroundColor = \"initial\";\n  if (window.agents) {\n    agents = window.agents;\n    _.forEach(agents, (a, k) => {\n      if (k === data.agentId) {\n        backgroundColor = a.color;\n      }\n    });\n  }\n\n  const loadMsgText = () => {\n    const lastMsg = data.messages[0];\n\n    if (!lastMsg) {\n      setMsg(\"~Sem mensagem\");\n    } else if (lastMsg.type === \"chat\") {\n      setMsg(lastMsg.body);\n    } else if (lastMsg.type === \"ptt\") {\n      setMsg(\"Áudio\");\n    } else if (lastMsg.type === \"sale\") {\n      setMsg(\"Venda\");\n    } else if (lastMsg.type === \"image\") {\n      setMsg(\"📷 Foto\");\n    } else if (lastMsg.type === \"sticker\") {\n      setMsg(\"📷 Adesivo\");\n    } else {\n      setMsg(lastMsg.type);\n    }\n\n    if (lastMsg) {\n      setSent(lastMsg.mine);\n    }\n  };\n\n  useEffect(() => {\n    loadMsgText();\n  });\n\n  return (\n    <div className={classes.chat} style={style} onClick={handleClick}>\n      <img src={data.profilePic} alt=\"Chat\" />\n      <div>\n        <div className={classes.info}>\n          <b>{data.displayName}</b>\n          <p>{moment(data.lastMessageAt).calendar(calendarTexts)}</p>\n        </div>\n        <div className={classes.message}>\n          {sent && <img src={sentImg} alt=\"Enviado\" />}\n          {msg && <FormattedP text={msg} enter={false} />}\n          {data.agentId && (\n            <span className={classes.letter} style={{ backgroundColor }}>\n              {agents[data.agentId].firstLetter}\n            </span>\n          )}\n          {data.unread > 0 && (\n            <span className={classes.unread}>{data.unread}</span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\n\nconst LowBattery = () => (\n  <div className={classNames(classes.chat, classes.lowBattery)}>\n    A bateria está acabando. Carregue o celular principal.\n  </div>\n);\n\nexport default React.memo(LowBattery);\n","export default __webpack_public_path__ + \"static/media/rocket.dcebd764.svg\";","export default __webpack_public_path__ + \"static/media/sync.1a2eb9a5.svg\";","export default __webpack_public_path__ + \"static/media/changeUser.5dc72a9f.svg\";","export default __webpack_public_path__ + \"static/media/gear.3af61fb8.svg\";","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport logo from \"../assets/images/icon.png\";\nimport launch from \"../assets/images/rocket.svg\";\nimport sync from \"../assets/images/sync.svg\";\nimport change from \"../assets/images/changeUser.svg\";\nimport settings from \"../assets/images/gear.svg\";\nimport classes from \"./index.module.css\";\n\nconst Header = ({ logout, handleSettings, isLaunch, handleManualSync }) => {\n  let agent;\n  if (localStorage.salesAgentProfile) {\n    agent = JSON.parse(localStorage.salesAgentProfile);\n  } else {\n    agent = JSON.parse(localStorage.agents)[localStorage.userId];\n  }\n\n  const goToLaunch = () => (window.location.href = \"/launch\");\n  const fullName = (agent && agent.fullName) || \"\";\n  const isLocal = localStorage.useSavedData;\n\n  return (\n    <div className={classNames(classes.header)}>\n      <img className={classes.bg} src={logo} alt=\"Zoppy\" />\n      <p>{fullName}</p>\n      <button onClick={handleSettings}>\n        <img src={settings} alt=\"Alterar configurações\" />\n      </button>\n      <button onClick={() => logout()}>\n        <img src={change} alt=\"mudar usuário\" />\n      </button>\n      {isLaunch ? (\n        <button onClick={goToLaunch}>\n          <img src={launch} alt=\"lançamento\" />\n        </button>\n      ) : null}\n      {isLocal ? (\n        <button onClick={handleManualSync}>\n        <img src={sync} alt=\"Sincronizar\" />\n      </button>\n      ): null}\n\n    </div>\n  );\n};\n\nexport default React.memo(Header);\n","export default \"data:image/png;base64,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\"","import React from \"react\";\n\nimport classes from \"./index.module.css\";\n\nconst Spinner = () => (\n  <div className={classes.container}>\n    <div className={classes.loader}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n);\n\nexport default Spinner;\n","import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { FixedSizeList as List } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nimport classes from \"./index.module.css\";\nimport Search from \"./Search\";\nimport Chat from \"./Chat\";\nimport LowBattery from \"./LowBattery\";\nimport Header from \"./Header\";\nimport Spinner from \"../Chat/Spinner\";\n\nconst Row = ({ data, index, style }) => (\n  <Chat\n    style={style}\n    data={data.dataToShow[index]}\n    handleClick={() => data.handleSelectChat(data.dataToShow[index].chatId)}\n  />\n);\n\nconst Conversations = ({\n  data,\n  handleQuery,\n  handleSelectChat,\n  handleModal,\n  handleNewContactModal,\n  handleSettingsModal,\n  handleManualSync,\n  showing,\n  logout,\n  isLaunch,\n  lowBattery,\n}) => {\n  const [dataToShow, setDataToShow] = useState(data);\n  useEffect(() => {\n    setDataToShow(data.filter((c) => c.filtered));\n  }, [data]);\n\n  return (\n    <div className={classNames(classes.container, \"mobile-fullwidth\", showing)}>\n      {localStorage.agents && localStorage.userId && (\n        <Header\n          logout={logout}\n          handleSettings={handleSettingsModal}\n          handleManualSync={handleManualSync}\n          isLaunch={isLaunch}\n        />\n      )}\n      <Search\n        handleNewContact={handleNewContactModal}\n        handleQuery={handleQuery}\n        handleModal={handleModal}\n      />\n      {lowBattery && <LowBattery />}\n      <div className={classes.chatsList}>\n        {data.length ? (\n          <AutoSizer>\n            {({ height, width }) => (\n              <List\n                height={height}\n                itemData={{ dataToShow, handleSelectChat }}\n                itemCount={dataToShow.length}\n                itemSize={81}\n                width={width}\n              >\n                {Row}\n              </List>\n            )}\n          </AutoSizer>\n        ) : (\n          <Spinner />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Conversations;\n","export default __webpack_public_path__ + \"static/media/notification.4b0b7450.ogg\";","export default __webpack_public_path__ + \"static/media/red.bdd9e85a.svg\";","export default __webpack_public_path__ + \"static/media/green.fff38e5b.svg\";","export default __webpack_public_path__ + \"static/media/yellow.2d747e33.svg\";","export default __webpack_public_path__ + \"static/media/blue.39c79876.svg\";","export default __webpack_public_path__ + \"static/media/orange.982b711d.svg\";","export default __webpack_public_path__ + \"static/media/purple.b7a5ec5e.svg\";","export default __webpack_public_path__ + \"static/media/back.97d6c85a.svg\";","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport back from \"../assets/images/back.svg\";\n\nconst Header = ({ data, handleBack, handleToggleDetails }) => (\n  <header className={classes.header}>\n    <button\n      onClickCapture={handleBack}\n      className={classNames(classes.arrow, \"mobile-only\")}\n    >\n      <img src={back} alt=\"back\" />\n    </button>\n    <div className={classes.headerContent} onClick={handleToggleDetails}>\n      <img className={classes.profilePic} src={data.profilePic} alt=\"Foto\" />\n      <div className={classes.name}>\n        <div className={classes.nameContainer}>\n          <span title={data.displayName}>{data.displayName}</span>\n        </div>\n      </div>\n    </div>\n  </header>\n);\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/send.4eef2c1d.svg\";","export default __webpack_public_path__ + \"static/media/emoji.86604dab.svg\";","export default __webpack_public_path__ + \"static/media/camera.e0cb18cc.svg\";","export default __webpack_public_path__ + \"static/media/bag.c4a6d9fb.svg\";","export default __webpack_public_path__ + \"static/media/cancel.91a3f1e4.svg\";","export default __webpack_public_path__ + \"static/media/sucess.d1ab63d2.svg\";","export default __webpack_public_path__ + \"static/media/mic.e0b5930a.svg\";","import React, { useEffect, useState } from \"react\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\n\nimport cancel from \"../../assets/images/cancel.svg\";\nimport sucess from \"../../assets/images/sucess.svg\";\nimport mic from \"../../assets/images/mic.svg\";\nimport classes from \"./index.module.css\";\nimport useInterval from \"../../hooks/useInterval\";\n\nconst recorder = new MicRecorder({\n  bitRate: 128,\n});\n\nconst secondsToTime = (s) => {\n  if (!s && s !== 0) {\n    return \"\";\n  }\n  const m = Math.floor(s / 60);\n  const sec = Math.round(s % 60);\n  let parsedSec = sec;\n  if (sec < 10) {\n    parsedSec = \"0\" + sec;\n  }\n  return m + \":\" + parsedSec;\n};\n\nconst isMobile = window.innerWidth <= 600;\n\nconst VoiceNote = ({ setIsRecording, sendAudio }) => {\n  const [startedRecording, setStartedRecording] = useState(0);\n  const [allowsRecording, setAllowsRecording] = useState(false);\n  const [audioURL, setAudioURL] = useState(\"\");\n  const [seconds, setSeconds] = useState(0);\n  const [timerId, setTimerId] = useState();\n\n  const handleRecord = (e) => {\n    console.log(isMobile);\n    e.preventDefault();\n    if (startedRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n\n  const startRecording = () => {\n    console.log(\"STARTED\");\n    recorder.start();\n    setStartedRecording(true);\n    setAudioURL(\"\");\n    startTImer()\n  };\n  \n  const startTImer = () => {\n    let t = 0;\n    const id = setInterval(() => {\n      setSeconds(++t)\n    }, 1000);\n    setTimerId(id);\n  }\n  \n  const stopRecording = () => {\n    console.clear();\n    setIsRecording(false);\n    setStartedRecording(false);\n    recorder\n    .stop()\n    .getMp3()\n    .then(([buffer, blob]) => {\n      setAudioURL(blob);\n    });\n    setSeconds(0);\n    clearInterval(timerId);\n  };\n  \n  const cancelRecording = () => {\n    setStartedRecording(false);\n    recorder\n    .stop()\n    .getMp3()\n    .then(() => {\n      setAudioURL(\"\");\n    });\n    setSeconds(0)\n    clearInterval(timerId);\n  };\n  \n  const handleStartTouch = () => {\n    if (!startedRecording) {\n      setIsRecording(true);\n      startRecording();\n    }\n  };\n\n  const handleEndTouch = () => {\n    stopRecording();\n  };\n\n  useEffect(() => {\n    if (!navigator.getUserMedia) {\n      setAllowsRecording(false);\n    } else {\n      navigator.getUserMedia(\n        { audio: true },\n        () => {\n          console.log(\"Permission Granted\");\n          setAllowsRecording(true);\n        },\n        () => {\n          console.log(\"Permission Denied\");\n          setAllowsRecording(false);\n        }\n      );\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!startedRecording && audioURL && audioURL.size > 1) {\n      console.log(audioURL);\n      sendAudio(audioURL);\n    }\n    setIsRecording(Boolean(startedRecording));\n  }, [audioURL, startedRecording]);\n\n  // ====================== script pressionar para gravar mobile\n  // useEffect(() => {\n  //   const e = document.getElementById(\"recorder\");\n  //   if (allowsRecording && e) {\n  //     document\n  //       .getElementById(\"recorder\")\n  //       .addEventListener(\"touchstart\", handleStartTouch);\n\n  //     document.getElementById(\"recorder\").oncontextmenu = function (event) {\n  //       event.preventDefault();\n  //       event.stopPropagation(); // not necessary in my case, could leave in case stopImmediateProp isn't available?\n  //       event.stopImmediatePropagation();\n  //       return false;\n  //     };\n\n  //     document\n  //       .getElementById(\"recorder\")\n  //       .addEventListener(\"touchend\", handleEndTouch);\n\n  //     return () => {\n  //       e.removeEventListener(\"touchstart\", handleStartTouch);\n  //       e.removeEventListener(\"touchend\", handleEndTouch);\n  //     };\n  //   }\n  // }, [startedRecording, allowsRecording]);\n\n  return (\n    <div>\n      {!startedRecording ? (\n        <button className={classes.record} id=\"recorder\" onClick={handleRecord}>\n          <img src={mic} alt=\"Gravar áudio\" />\n        </button>\n      ) : (\n        <div className={classes.voiceMessageRecorder}>\n          <div>{secondsToTime(seconds)}</div>\n          <button onClick={handleRecord}>\n            <img\n              className={classes.recording}\n              src={sucess}\n              alt=\"Enviar áudio\"\n            />\n          </button>\n          <button onClick={cancelRecording}>\n            <img\n              className={classes.recording}\n              src={cancel}\n              alt=\"Cancelar áudio\"\n            />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VoiceNote;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport sendImg from \"../../assets/images/send.svg\";\nimport emojiFace from \"../../assets/images/emoji.svg\";\nimport camera from \"../../assets/images/camera.svg\";\nimport bag from \"../../assets/images/bag.svg\";\nimport outslideClickListener from \"../../hooks/outslideClickListener\";\nimport VoiceNote from \"./VoiceNote\";\n\nconst isMobile = window.innerWidth <= 600;\n\nconst MessageField = ({\n  message,\n  handleChangeMessage,\n  send,\n  replyId,\n  handleReply,\n  handleModal,\n  sendAudio,\n}) => {\n  const [rows, setRows] = useState(1);\n  const [emoji, setEmoji] = useState();\n  const [focused, setFocused] = useState(false);\n  const [salesButon, setSalesButton] = useState(false);\n\n  const [isRecording, setIsRecording] = useState(false);\n  const emojiRef = useRef();\n\n  useEffect(() => {\n    if (\n      localStorage.settings &&\n      JSON.parse(localStorage.settings).salesOptions\n    ) {\n      setSalesButton(true);\n    } else {\n      setSalesButton(false);\n    }\n  }, [localStorage.settings]);\n\n  const closeEmoji = () => {\n    setEmoji(false);\n  };\n\n  outslideClickListener(emojiRef, closeEmoji);\n\n  const enterListener = (e) => {\n    if (e.keyCode === 13 && !e.shiftKey) {\n      e.preventDefault();\n      if (message) {\n        handlesendButton();\n      }\n    }\n  };\n\n  const handlesendButton = () => {\n    console.log(message, replyId);\n    send(message, replyId);\n    handleChangeMessage(\"\");\n    setRows(1);\n  };\n\n  const handleChange = (e) => {\n    e.persist();\n    const textareaLineHeight = 24;\n    const minRows = 1;\n    let maxRows = 3;\n    if (isMobile) {\n      maxRows = 10;\n    }\n\n    const previousRows = e.target.rows;\n    e.target.rows = minRows;\n\n    const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n\n    // TODO ajustar isso\n    if (currentRows === previousRows) {\n      e.target.rows = currentRows;\n    }\n\n    if (currentRows >= maxRows) {\n      e.target.rows = maxRows;\n      e.target.scrollTop = e.target.scrollHeight;\n    }\n\n    // if (e.target.value.length > 0 && !focused) {\n    //   setFocused(true);\n    // } else if (e.target.value.length < 1) {\n    //   setFocused(false);\n    // }\n\n    handleChangeMessage(e.target.value);\n    setRows(currentRows < maxRows ? currentRows : maxRows);\n  };\n\n  const toggleEmoji = () => {\n    setEmoji(!emoji);\n  };\n\n  const addEmoji = (e) => {\n    handleChangeMessage(message + e.native);\n  };\n\n  return (\n    <>\n      {emoji && (\n        <div className={classes.emojiContainer} ref={emojiRef}>\n          <Picker\n            showPreview={false}\n            showSkinTones={false}\n            title=\"Emoji\"\n            set=\"apple\"\n            onSelect={addEmoji}\n            style={classes.emojiRoot}\n          />\n        </div>\n      )}\n      <div className={classNames(classes.input, classes[focused])}>\n        <button\n          className={classes.hide}\n          onClick={() => handleModal(\"picUpload\")}\n        >\n          <img className={classes.camera} src={camera} alt=\"upload\" />\n        </button>\n        {salesButon && (\n          <button className={classes.hide} onClick={() => handleModal(\"sale\")}>\n            <img src={bag} alt=\"Nova venda\" />\n          </button>\n        )}\n        <button onClick={toggleEmoji}>\n          <img src={emojiFace} alt=\"Emoji\" />\n        </button>\n        <textarea\n          type=\"text\"\n          rows={rows}\n          value={message}\n          onKeyDown={enterListener}\n          onChange={handleChange}\n          placeholder=\"Digite uma mensagem\"\n          disabled={isRecording}\n        ></textarea>\n        {message.length ? (\n          <button onClick={() => handlesendButton()}>\n            <img src={sendImg} alt=\"Enviar\" />\n          </button>\n        ) : (\n          <VoiceNote setIsRecording={setIsRecording} sendAudio={sendAudio} />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default MessageField;\n","import { useEffect } from \"react\";\n\nexport default (ref, funct) => {\n    useEffect(() => {\n        function handleClickOutside(event) {\n            if (ref.current && !ref.current.contains(event.target)) {\n                funct(event);\n            }\n        }\n\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        document.addEventListener(\"touchstart\", handleClickOutside);\n        return () => {\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n            document.removeEventListener(\"touchstart\", handleClickOutside);\n        };\n    }, [ref]);\n}\n","export default __webpack_public_path__ + \"static/media/delete.d9483b20.svg\";","export default __webpack_public_path__ + \"static/media/copy.41c3e896.svg\";","export default __webpack_public_path__ + \"static/media/reply.22800991.svg\";","export default __webpack_public_path__ + \"static/media/clock.5a342c8b.svg\";","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nimport classes from \"./index.module.css\";\n\nconst BodyContent = ({data}) => {\n  if (data && data.length > 200 && !data.includes(' ')) {\n    return <img alt=\"imagem respondida\" src={`data:image/jpg;base64,${data}`} />\n  } else {\n    return <span>{data}</span>\n  }\n}\n\nconst QuoteBox = ({data}) => {\n  const {body, sender, mine} = data\n  return (\n    <div className={classNames(classes.quote, classes[mine])}>\n      <span className={classes.from}>{sender}</span>\n      <br/>\n      <BodyContent data={body} />\n    </div>\n  )\n}\n\nQuoteBox.propTypes = {\n  data: PropTypes.object.isRequired,\n}\n\nexport default QuoteBox\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport clock from \"../../../assets/images/clock.svg\";\n\nimport classes from \"./index.module.css\";\nimport FormattedSpan from \"../../../hooks/FormattedSpan\";\nimport QuoteBox from \"./QuoteBox\";\n\nconst PureText = ({ message, isGroup }) => {\n  const agents = window.agents;\n\n  let senderName = \"WhatsApp\";\n\n  if (message.agentId) {\n    senderName = agents[message.agentId].fullName;\n  }\n\n  return (\n    <div>\n      <div className={classes.message}>\n        {isGroup && !message.mine && <p>{message.sender}</p>}\n        {message.mine && message.agentId && <p>{senderName}</p>}\n        <div className={classes.msg}>\n          {message.quote ? <QuoteBox data={message.quote} /> : null}\n          <FormattedSpan text={message.body} />\n          <span className={classes.buffer}></span>\n        </div>\n      </div>\n      <div className={classes.time}>\n        <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n        {message.sending && <img src={clock} alt=\"Sending\" />}\n      </div>\n    </div>\n  );\n};\n\nexport default PureText;\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport classes from \"./index.module.css\";\nimport FormattedSpan from \"../../../hooks/FormattedSpan\";\nimport { url } from \"../../../connector\";\n\nconst Image = ({ message, isGroup, showMedia }) => (\n  <div>\n    <div className={classes.message}>\n      {isGroup && !message.mine && <p>{message.sender}</p>}\n      <div\n        className={classes.image}\n        onClick={() => showMedia(\"image\", message.messageId)}\n        style={{\n          backgroundImage: `url(data:image/jpg;base64,${message.body})`,\n        }}\n      >\n        <div\n          className={classes.highResImg}\n          style={{\n            backgroundImage: `url(${url}chats/download/${message.messageId}?access_token=${localStorage.access_token})`,\n          }}\n        />\n      </div>\n      {message.caption && (\n        <div className={classes.msg}>\n          <FormattedSpan text={message.caption} />\n          <span className={classes.buffer}></span>\n        </div>\n      )}\n    </div>\n    <div className={classes.time}>\n      <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n    </div>\n  </div>\n);\n\nexport default Image;\n","import React from \"react\";\n\nimport classes from \"./index.module.css\";\n\nconst Sale = ({ message }) => (\n  <div className={classes.sale}>\n    <p>{message.body}</p>\n  </div>\n);\n\nexport default Sale;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport moment from \"moment\";\nimport classNames from \"classnames\";\n\nimport { url } from \"../../../connector\";\n\nimport classes from \"./index.module.css\";\n\nconst secondsToTime = (s) => {\n  if (!s) {\n    return \"\";\n  }\n  const m = Math.floor(s / 60);\n  const sec = Math.round(s % 60);\n  let parsedSec = sec;\n  if (sec < 10) {\n    parsedSec = \"0\" + sec;\n  }\n  return m + \":\" + parsedSec;\n};\n\nconst VoiceMessage = ({ message, isGroup }) => {\n  const [audio, setAudio] = useState(null);\n  const [playing, setPlaying] = useState(false);\n  const [duration, setDuration] = useState(\"\");\n  const componentIsMounted = useRef(true);\n\n  const agents = window.agents;\n\n  const toggle = async () => {\n    setPlaying(!playing);\n  };\n\n  let senderName = \"WhatsApp\";\n\n  if (message.agentId) {\n    senderName = agents[message.agentId].fullName;\n  }\n\n  const saveDuration = (audioEl) => {\n    if (componentIsMounted.current) {\n      setDuration(secondsToTime(message.duration));\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      componentIsMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    try {\n      const audioBuff = new Audio(\n        `${url}chats/download/${message.messageId}?access_token=${localStorage.access_token}`\n      );\n      setAudio(audioBuff);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [message.messageId]);\n\n  useEffect(() => {\n    if (audio) {\n      try {\n        const sounds = document.getElementsByTagName(\"audio\");\n        for (let i = 0; i < sounds.length; i++) sounds[i].pause();\n        playing ? audio.play() : audio.pause();\n        audio.addEventListener(\"ended\", () => setPlaying(false));\n        audio.addEventListener(\"loadeddata\", () => saveDuration(audio));\n        return () => {\n          audio.removeEventListener(\"ended\", () => setPlaying(false));\n          audio.removeEventListener(\"loadeddata\", () => saveDuration(audio));\n        };\n      } catch (e) {\n        alert(\"erro ao reproduzir!\");\n        console.log(e);\n      }\n    }\n  }, [playing, audio]);\n\n  return (\n    <div>\n      <div>\n        <div className={classes.message}>\n          {isGroup && !message.mine && <p>{message.sender}</p>}\n          {message.agentId && <p>{senderName}</p>}\n          <div className={classes.msg}>\n            <div onClick={toggle} className={classes.audio}>\n              <div\n                className={classNames(\n                  playing ? classes.paused : null,\n                  classes.audioController\n                )}\n              ></div>\n            </div>\n            <span>{duration}</span>\n          </div>\n        </div>\n        <div className={classes.time}>\n          <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceMessage;\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport { url } from \"../../../connector\";\n\nimport classes from \"./index.module.css\";\n\nconst Sticker = ({ message, isGroup }) => (\n  <div className={classes.noBg}>\n    <div className={classes.message}>\n      {isGroup && !message.mine && <p>{message.sender}</p>}\n      <div className={classes.sticker}>\n        <img\n          src={`${url}chats/download/${message.messageId}?access_token=${localStorage.access_token}`}\n          alt=\"Adesivo\"\n        />\n      </div>\n    </div>\n    <div className={classes.time}>\n      <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n    </div>\n  </div>\n);\n\nexport default Sticker;\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport classes from \"./index.module.css\";\nimport FormattedSpan from \"../../../hooks/FormattedSpan\";\n\nconst Video = ({ message, isGroup, showMedia }) => {\n  return (\n    <div>\n      <div>\n        <div className={classes.message}>\n          {isGroup && !message.mine && <p>{message.sender}</p>}\n          <div\n            className={classes.image}\n            onClick={() => showMedia(\"video\", message.messageId)}\n            style={{\n              backgroundImage: `url(data:image/jpg;base64,${message.body})`,\n            }}\n          ></div>\n          {message.caption && (\n            <div className={classes.msg}>\n              <FormattedSpan text={message.caption} />\n              <span className={classes.buffer}></span>\n            </div>\n          )}\n        </div>\n        <div className={classes.time}>\n          <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Video;\n","import React, { useState } from \"react\";\nimport classNames from \"classnames\";\n\nimport deleteIcon from \"../../../assets/images/delete.svg\";\nimport copy from \"../../../assets/images/copy.svg\";\nimport reply from \"../../../assets/images/reply.svg\";\n\nimport classes from \"./index.module.css\";\nimport PureText from \"./PureText\";\nimport Image from \"./Image\";\nimport Sale from \"./Sale\";\nimport VoiceMessage from \"./VoiceMessage\";\nimport Sticker from \"./Sticker\";\nimport Video from \"./Video\";\n\nconst Options = ({ selected, mine, text, handleDelete, handleReply }) => {\n  const handleCopy = () => {\n    navigator.clipboard.writeText(text);\n    console.log(\"COPIED\");\n  };\n\n  return (\n    <div className={classNames(classes.options, classes[selected])}>\n      <div>\n        <img src={reply} alt=\"responder\" className={classes.option} onClick={handleReply}/>\n      </div>\n      {text ? (\n        <div>\n          <img\n            src={copy}\n            alt=\"copiar\"\n            className={classes.option}\n            onClick={handleCopy}\n          />\n        </div>\n      ) : null}\n      {mine ? (\n        <div>\n          <img\n            src={deleteIcon}\n            alt=\"excluir mensagem\"\n            className={classes.option}\n            onClick={handleDelete}\n          />\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nconst Bubble = ({ message, isGroup, showMedia, handleDelete, handleReply }) => {\n  const side = message.mine ? classes.right : classes.left;\n  const inS = message.mine ? \"message-out\" : \"message-in\";\n  const [selected, setSelected] = useState(false);\n  let opacity = 1;\n  let backgroundColor = \"transparent\";\n  let clicked;\n  if (message.sending) {\n    opacity = 0.8;\n  }\n  if (selected === true) {\n    backgroundColor = \"#add8e66b\";\n  }\n\n  let BubbleComponent;\n  if (message.type === \"chat\") {\n    BubbleComponent = PureText;\n  } else if (message.type === \"image\") {\n    BubbleComponent = Image;\n  } else if (message.type === \"video\") {\n    BubbleComponent = Video;\n  } else if (message.type === \"sticker\") {\n    BubbleComponent = Sticker;\n  } else if (message.type === \"ptt\" || message.type === \"audio\") {\n    BubbleComponent = VoiceMessage;\n  }\n\n  const listenDoubleclick = (e) => {\n    if (!selected && !clicked) {\n      console.log(1, clicked, e.timeStamp - clicked);\n      clicked = 1;\n      setTimeout(() => {\n        clicked = 0;\n      }, 200);\n    } else if (clicked) {\n      console.log(2);\n      setSelected(true);\n      setTimeout(() => {\n        setSelected(false);\n        clicked = 0;\n      }, 5000);\n    }\n  };\n\n  const reply = () => {\n    console.log(message.messageId);\n    handleReply(message.messageId);\n  }\n\n  const deleteMsg = () => {\n    console.log(message.messageId);\n    handleDelete(message.messageId)\n  }\n\n  if (message.type === \"sale\") {\n    return (\n      <div className={classes.container}>\n        <Sale message={message} />\n      </div>\n    );\n  } else if (BubbleComponent) {\n    return (\n      <div\n        className={classNames(classes.container, side, inS)}\n        style={{ opacity, backgroundColor }}\n        data-id={message.messageId}\n        onClick={listenDoubleclick}\n      >\n        <BubbleComponent\n          showMedia={showMedia}\n          message={message}\n          isGroup={isGroup}\n        />\n        <Options\n          handleDelete={deleteMsg}\n          handleReply={reply}\n          selected={selected}\n          mine={message.mine}\n          text={message.type === \"chat\" ? message.body : 0}\n        />\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default Bubble;\n","import React from \"react\";\nimport moment from \"moment\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\n\nconst calendarTexts = {\n  sameDay: \"[Hoje]\",\n  lastDay: \"[Ontem]\",\n  lastWeek: \"dddd\",\n  sameElse: \"DD/MM/YYYY\",\n};\n\nconst Day = ({ day }) => (\n  <div className={classNames(classes.container, classes.center)}>\n    <div className={classes.day}>{moment(day).calendar(calendarTexts)}</div>\n  </div>\n);\n\nexport default Day;\n","import React, { Fragment, useState, useRef, useEffect } from \"react\";\nimport moment from \"moment\";\n\nimport classes from \"./index.module.css\";\nimport Spinner from \"../Spinner\";\nimport MessageField from \"./MessageField\";\nimport Bubble from \"./Bubble\";\nimport Day from \"./Bubble/Day\";\n\n\nconst Chat = ({\n  messages,\n  more,\n  handleModal,\n  loading,\n  initialText,\n  chatId,\n  handleLoadMore,\n  send,\n  handleDelete,\n  sendAudio,\n  showMedia,\n}) => {\n  const [message, setMessage] = useState(\"\");\n  const [scroll, setScroll] = useState(false);\n  const [replyId, setReplyId] = useState(\"\");\n  const isGroup = chatId.includes(\"-\");\n  const messagesEndRef = useRef();\n\n  let lastDay = new Date(messages[0]?.timestamp || null);\n  console.log(lastDay, chatId);\n\n  const scrollToBottom = () => {\n    setScroll(scroll + 1);\n    messagesEndRef.current.scrollIntoView();\n  };\n\n  const handleReply = (id) => {\n    setReplyId(id);\n  };\n\n  useEffect(() => {\n    if (initialText && message === false) {\n      setMessage(initialText);\n      // } else if (message !== initialText) {\n      //   setMessage(\"\");\n    }\n  }, [initialText, chatId]);\n\n  useEffect(() => {\n    setScroll(0);\n  }, [chatId]);\n\n  useEffect(() => {\n    if (scroll < 3 || messages[0]?.mine) {\n      scrollToBottom();\n    }\n  }, [messages]);\n\n  return (\n    <div className={classes.chat}>\n      <div className={classes.scroll}>\n        <div className={classes.container}>\n          <div className={classes.messages}>\n            <div ref={messagesEndRef} id=\"bottom\" />\n            <>\n              {messages.length &&\n                messages.map((msg, i) => {\n                  const m = { ...msg };\n                  const last = lastDay;\n                  if (typeof msg !== \"object\") {\n                    return null;\n                  }\n                  const current = m.timestamp;\n                  if (m.mine && !m.agentId) {\n                    m.agentId = \"wpp\";\n                  }\n                  lastDay = current;\n                  if (m === \"none\" || m.chatId !== chatId) {\n                    return null;\n                  } else if (i === messages.length - 1) {\n                    return (\n                      <Fragment key={m.messageId}>\n                        <Bubble\n                          handleReply={handleReply}\n                          handleDelete={handleDelete}\n                          showMedia={showMedia}\n                          key={m.messageId}\n                          message={m}\n                          isGroup={isGroup}\n                        />\n                        <Day day={last} />\n                      </Fragment>\n                    );\n                  } else if (!moment(last).isSame(lastDay, \"day\")) {\n                    return (\n                      <Fragment key={m.messageId}>\n                        <Day day={last} />\n                        <Bubble\n                          handleReply={handleReply}\n                          handleDelete={handleDelete}\n                          showMedia={showMedia}\n                          message={m}\n                          isGroup={isGroup}\n                        />\n                      </Fragment>\n                    );\n                  } else {\n                    return (\n                      <Bubble\n                        handleReply={handleReply}\n                        showMedia={showMedia}\n                        handleDelete={handleDelete}\n                        key={m.messageId}\n                        message={m}\n                        isGroup={isGroup}\n                      />\n                    );\n                  }\n                })}\n              {loading && <Spinner />}\n              {more && (\n                <div onClick={handleLoadMore} className={classes.loadMore}>\n                  Carregar mais\n                </div>\n              )}\n            </>\n          </div>\n        </div>\n      </div>\n      <MessageField\n        handleModal={handleModal}\n        message={message}\n        handleChangeMessage={setMessage}\n        handleReply={handleReply}\n        replyId={replyId}\n        send={send}\n        sendAudio={sendAudio}\n      />\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\n\nconst NoChat = ({ showing }) => (\n  <div\n    className={classNames(\n      classes.centerContainer,\n      classes.noChat,\n      \"mobile-fillWidth\",\n      showing\n    )}\n  >\n    <h1>Selecione uma conversa no chat ao lado</h1>\n  </div>\n);\n\nexport default NoChat;\n","export default __webpack_public_path__ + \"static/media/swap.edd4f2a9.svg\";","export default __webpack_public_path__ + \"static/media/income.7a744b5d.svg\";","export default __webpack_public_path__ + \"static/media/outcome.73daf9ec.svg\";","export default __webpack_public_path__ + \"static/media/inAndOut.2db43181.svg\";","import React from \"react\";\nimport moment from \"moment\";\n\nimport classes from \"./index.module.css\";\nimport inArrow from \"../../assets/images/income.svg\";\nimport outArrow from \"../../assets/images/outcome.svg\";\nimport all from \"../../assets/images/inAndOut.svg\";\n\nconst Counters = ({ incoming, outcoming, noTotal }) => (\n  <div className={classes.counter}>\n    <span>{incoming}</span>\n    <img src={inArrow} alt=\"Recebidas\" />\n    <span>{outcoming}</span>\n    <img src={outArrow} alt=\"Recebidas\" />\n    {noTotal ? null : (\n      <>\n        <span>{outcoming + incoming}</span>\n        <img src={all} alt=\"Total\" />\n      </>\n    )}\n  </div>\n);\n\nconst Stats = ({ data }) => {\n  const getDuration = (ms) => {\n    const seconds = moment.duration(ms).seconds();\n    const minutes = moment.duration(ms).minutes();\n    const hours = Math.trunc(moment.duration(ms).asHours());\n    return hours + \":\" + minutes + \":\" + seconds;\n  };\n\n  return (\n    <div className={classes.statsContainer}>\n      <div>\n        <h1>Primeira mensagem: </h1>\n        <span>{data.salesContacted ? \"Vendedor\" : \"Lead\"}</span>\n      </div>\n      <div>\n        <h1>Tempo de resposta inicial: </h1>\n        <span>{getDuration(data.initialResponseTime)}</span>\n      </div>\n      <div>\n        <h1>Total:</h1>\n        <Counters\n          incoming={data.receivedMessages}\n          outcoming={data.sentMessages}\n        />\n      </div>\n      <div>\n        <h1>Mensagens:</h1>\n        <Counters incoming={data.receivedTexts} outcoming={data.sentTexts} />\n      </div>\n      <div>\n        <h1>Áudios:</h1>\n        <Counters incoming={data.receivedAudios} outcoming={data.sentAudios} />\n      </div>\n      <div>\n        <h1>Fotos:</h1>\n        <Counters incoming={data.receivedImages} outcoming={data.sentImages} />\n      </div>\n      <div>\n        <h1>Tempo de resposta médio:</h1>\n        <Counters incoming={getDuration(data.avgReceive)} outcoming={getDuration(data.avgRespond)} noTotal />\n      </div>\n    </div>\n  );\n};\n\nexport default Stats;\n","import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport swap from \"../../assets/images/swap.svg\";\nimport { idToPhone } from \"../../hooks/helpers\";\nimport Stats from \"./Stats\";\n\nconst ContactDetails = ({\n  data,\n  handleClose,\n  handleChangeName,\n  show,\n  stats,\n  handlePin,\n}) => {\n  const [name, setName] = useState(data.displayName);\n  const [savedName, setSavedName] = useState(data.displayName);\n  const [showHint, setShowHint] = useState(false);\n  const [attendant, setAttendant] = useState(\"\");\n  console.log(stats);\n\n  useEffect(() => {\n    setName(data.displayName);\n    setSavedName(data.displayName);\n  }, [data.displayName]);\n\n  useEffect(() => {\n    if (data.agentId) {\n      const attendant = JSON.parse(localStorage.agents)[data.agentId];\n      setAttendant(attendant.fullName);\n    } else {\n      setAttendant();\n    }\n  }, [data]);\n\n  const enterListener = async (e) => {\n    if (e.keyCode === 13) {\n      handleChangeName(name);\n      e.target.blur();\n      setSavedName(name);\n      setName(name);\n    }\n  };\n\n  const handleFocus = () => {\n    setShowHint(true);\n  };\n\n  const handleBlur = () => {\n    setName(savedName);\n    setShowHint(false);\n  };\n\n  const handleEsc = (e) => {\n    if (e.keyCode === 27) {\n      handleClose();\n    }\n  };\n\n  useEffect(() => {\n    handleClose();\n  }, [data.chatId]);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleEsc, false);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc, false);\n    };\n  }, []);\n\n  const handleSwapAgent = () => {\n    if (data.agentId === window.me) {\n      handlePin(true);\n    } else {\n      handlePin(false);\n    }\n  };\n\n  return (\n    <div className={classNames(classes.container, classes[show])}>\n      <div className={classes.close} onClick={handleClose}>\n        &times;\n      </div>\n      <img className={classes.profilePic} src={data.profilePic} alt=\"\" />\n      <div className={classes.dataContainer}>\n        <input\n          className={classes.nameInput}\n          type=\"text\"\n          value={name}\n          onKeyDown={enterListener}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          onChange={(e) => setName(e.target.value)}\n        />\n        {showHint && (\n          <div className={classes.hintBubble}>\n            Aperte enter para salvar ou clique fora do campo para cancelar\n          </div>\n        )}\n        <h3>{idToPhone(data.chatId)}</h3>\n        <div className={classes.salesAgent}>\n          <h2>Atendente: {attendant || \"Nenhum\"}</h2>\n          <button onClick={handleSwapAgent}>\n            <img src={swap} alt=\"Trocar\" />\n          </button>\n        </div>\n        <Stats data={stats} />\n      </div>\n    </div>\n  );\n};\n\nexport default ContactDetails;\n","import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\nimport moment from \"moment\";\n\nimport Header from \"./Header\";\nimport ChatBox from \"./ChatBox\";\nimport NoChat from \"./NoChat\";\n\nimport classes from \"./index.module.css\";\nimport ContactDetails from \"./ContactDetails\";\n\nconst Chat = ({\n  chat,\n  handleChangeName,\n  handleSend,\n  handleDelete,\n  handleSendAudio,\n  handleLoadMore,\n  handleModal,\n  handlePin,\n  handleBack,\n  initialText,\n  showMedia,\n  showing,\n}) => {\n  const [showDetails, setShowDetails] = useState(false);\n  const [stats, setStats] = useState({});\n\n  const avgArr = (arr) => {\n    let sum = 0;\n    for (let i = 0; i < arr.length; i++) {\n      sum += parseInt(arr[i], 10);\n    }\n\n    return sum / arr.length;\n  };\n\n  const calculateStats = (msgs) => {\n    let initialResponseTime;\n    const avgTimeRespond = [];\n    const avgTimeRecieve = [];\n    const salesContacted = msgs[0].mine;\n    const counts = {\n      sentMessages: 0,\n      receivedMessages: 0,\n      sentTexts: 0,\n      receivedTexts: 0,\n      sentAudios: 0,\n      receivedAudios: 0,\n      sentImages: 0,\n      receivedImages: 0,\n    };\n    const daysOfConversation = Math.abs(\n      moment(msgs[0].timestamp).diff(\n        moment(msgs[msgs.length - 1].timestamp),\n        \"days\"\n      )\n    );\n    msgs.forEach((m, i) => {\n      if (m.mine) {\n        if (!salesContacted && !initialResponseTime) {\n          initialResponseTime = new Date(m.timestamp) - new Date(msgs[i - 1].timestamp);\n        }\n        counts.sentMessages++;\n        if (m.type === \"ptt\" || m.type === \"audio\") {\n          counts.sentAudios++;\n        } else if (m.type === \"image\") {\n          counts.sentImages++;\n        } else {\n          counts.sentTexts++;\n        }\n        if (msgs[i - 1] && !msgs[i - 1].mine) {\n          const interval = new Date(m.timestamp) - new Date(msgs[i - 1].timestamp);\n          if (interval < 86400000) {  \n            avgTimeRespond.push(interval);\n          }\n        }\n      } else {\n        if (salesContacted && !initialResponseTime) {\n          initialResponseTime = new Date(m.timestamp) - new Date(msgs[i - 1].timestamp);\n        }\n        counts.receivedMessages++;\n        if (m.type === \"ptt\" || m.type === \"audio\") {\n          counts.receivedAudios++;\n        } else if (m.type === \"image\") {\n          counts.receivedImages++;\n        } else {\n          counts.receivedTexts++;\n        }\n        if (msgs[i - 1] && msgs[i - 1].mine) {\n          const interval = new Date(m.timestamp) - new Date(msgs[i - 1].timestamp);\n          if (interval < 86400000) {\n            avgTimeRecieve.push(interval);\n          }\n        }\n      }\n\n      const avgReceive = avgArr(avgTimeRecieve);\n      const avgRespond = avgArr(avgTimeRespond);\n      setStats({\n        avgReceive,\n        avgRespond,\n        daysOfConversation,\n        salesContacted,\n        initialResponseTime,\n        ...counts,\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (chat && chat.messages.length) {\n      const messages = chat.messages.slice().reverse();\n      calculateStats(messages);\n    }\n  }, [chat]);\n\n  if (chat) {\n    return (\n      <div\n        className={classNames(\n          classes.chatContainer,\n          \"mobile-fullwidth\",\n          showing\n        )}\n        id=\"main\"\n      >\n        <Header\n          data={chat}\n          handleBack={handleBack}\n          handleToggleDetails={() => setShowDetails(!showDetails)}\n        />\n        <ChatBox\n          handleModal={handleModal}\n          showMedia={showMedia}\n          handleLoadMore={handleLoadMore}\n          send={handleSend}\n          handleDelete={handleDelete}\n          sendAudio={handleSendAudio}\n          more={chat.more}\n          chatId={chat.chatId}\n          handleChangeName={handleChangeName}\n          messages={chat.messages}\n          loading={chat.firstClick}\n          initialText={initialText}\n        />\n        <ContactDetails\n          show={showDetails}\n          data={chat}\n          stats={stats}\n          handlePin={handlePin}\n          handleChangeName={handleChangeName}\n          handleClose={() => setShowDetails(false)}\n        />\n      </div>\n    );\n  } else {\n    return <NoChat showing={showing} />;\n  }\n};\n\nexport default Chat;\n","export default __webpack_public_path__ + \"static/media/logo.2641acfa.png\";","export default __webpack_public_path__ + \"static/media/loading.7b91d452.gif\";","import React, { useState, useEffect } from \"react\";\nimport Lightbox from \"react-image-lightbox\";\nimport classNames from \"classnames\";\nimport NumberFormat from \"react-number-format\";\nimport _ from \"lodash\";\n\nimport { url } from \"../connector\";\n\nimport \"react-image-lightbox/style.css\";\nimport classes from \"./modal.module.css\";\n\nimport logo from \"../assets/images/logo.png\";\nimport loading from \"../assets/images/loading.gif\";\n\nconst localSettings = JSON.parse(localStorage.settings || 1);\n\nconst Modal = ({\n  file,\n  onClose,\n  handleSendImage,\n  handleNewChat,\n  handleLogin,\n  handleUpload,\n  selectUser,\n  saveSales,\n  handleChangeSettings,\n  handleSearch,\n  passiveSearch,\n}) => {\n  const [message, setMessage] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n  const [settings, setSettings] = useState(\n    (file && file.settings) || localSettings\n  );\n\n  useEffect(() => {\n    setButtonDisabled(false);\n    setMessage(\"\");\n    setNumber(\"\");\n    setPassword(\"\");\n    if (file && file.newNumber) {\n      setNumber(file.newNumber);\n    } else if (file && file.type === \"sale\") {\n      setNumber(\"sale\");\n    } else if (file && file.type === \"advancedSearch\") {\n      setMessage(window.me);\n    }\n  }, [file]);\n\n  const sendImage = (e) => {\n    e.preventDefault();\n    setButtonDisabled(true);\n    handleSendImage(message);\n  };\n\n  const addContact = (e) => {\n    e.preventDefault();\n    if (!number.match(/^\\(\\d{2}\\) \\d{5}-\\d{4}$/g)) {\n      alert(\"Número inválido\");\n      return;\n    }\n\n    setButtonDisabled(true);\n    const chat = \"55\" + number.replace(/\\D/g, \"\") + \"@c.us\";\n    handleNewChat(number, chat);\n  };\n\n  const login = (e) => {\n    e.preventDefault();\n    if (!message || !password) {\n      alert(\"Insira seu usuário e senha!\");\n      return;\n    }\n    handleLogin(message, password);\n  };\n\n  const handleSaveSale = () => {\n    const items = message;\n    const value = password;\n    const type = number;\n    const nbrRegex = /^[0-9]{1,4}([.,][0-9]{1,2})?$/g;\n    if (\n      !items.match(nbrRegex) ||\n      (number === \"sale\" && !value.match(nbrRegex))\n    ) {\n      alert(\"Dados inválidos. Verifique os números\");\n      return;\n    }\n    const salesInfo = {\n      itemCount: items.replace(\",\", \".\"),\n      totalValue: value.replace(\",\", \".\"),\n      type,\n    };\n    setButtonDisabled(true);\n    saveSales(salesInfo);\n  };\n\n  const handlePickUser = () => {\n    if (message) {\n      selectUser(message);\n    } else {\n      alert(\"Você deve selecionar um(a) vendedor(a)\");\n    }\n  };\n\n  const changeSettings = ({ target }) => {\n    console.log(target.name, target.checked);\n    const newSettings = { ...settings, [target.name]: target.checked };\n    setSettings(newSettings);\n    handleChangeSettings(newSettings);\n  };\n\n  const changeSalesAgent = (value) => {\n    const agent = window.agents[localStorage.salesAgentId];\n    setMessage(value);\n    localStorage.setItem(\"salesAgentId\", value);\n    localStorage.setItem(\"salesAgentProfile\", JSON.stringify(agent));\n  };\n\n  const handleNumber = (number) => {\n    setNumber(number);\n    console.log(number);\n    if (number.length > 12 && number[13].match(/\\d/)) {\n      const chat = \"55\" + number.replace(/\\D/g, \"\");\n      passiveSearch(chat);\n    }\n  };\n\n  const handleFilter = () => {\n    handleSearch(message, number);\n  };\n\n  const handleOffline = () => {\n    localStorage.setItem(\"useSavedData\", 1);\n    window.location.reload();\n  };\n\n  if (file && file.type === \"image\") {\n    return (\n      <Lightbox\n        imagePadding={32}\n        mainSrc={`${url}chats/download/${file.id}?access_token=${localStorage.access_token}`}\n        onCloseRequest={onClose}\n      />\n    );\n  } else if (file && file.type === \"qr\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <p>{file.update}</p>\n          {file.qr ? (\n            <>\n              <h2>Escaneie o QR code pelo WhatsApp</h2>\n              <img className={classes.qr} src={file.qr} alt=\"QR code\" />\n            </>\n          ) : null}\n          {file.status ? (\n            <>\n              <h1>QR code validado. Carregando...</h1>\n              <h4>{`${file.partial}/${file.total}`}</h4>\n            </>\n          ) : null}\n          {file.offline === \"no auto start\" ? (\n            <button className={classes.offlineButton} onClick={handleOffline}>\n              Sincronizar para análises\n            </button>\n          ) : null}\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"video\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div\n          onClick={onClose}\n          className={classNames(classes.close, classes.absolutePosition)}\n        >\n          &times;\n        </div>\n        <div className={classes.modal}>\n          <video\n            src={`${url}chats/download/${file.id}?access_token=${localStorage.access_token}`}\n            alt=\"Vídeo\"\n            autoPlay\n            controls\n          />\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"offline\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <h1>\n            Parece que o celular principal não está online. Verifique e aguarde.\n          </h1>\n          <h3>{file.reason}</h3>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"picUpload\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h1>Enviar imagem</h1>\n          <label htmlFor=\"upload-button\">\n            <div className={classes.button}>Enviar foto ou vídeo</div>\n          </label>\n          <input\n            type=\"file\"\n            accept=\"image/*,video/*\"\n            capture\n            multiple\n            id=\"upload-button\"\n            style={{ display: \"none\" }}\n            onChange={handleUpload}\n          />\n          <label htmlFor=\"upload-button2\">\n            <div className={classes.button}>Enviar Outros arquivos</div>\n          </label>\n          <input\n            type=\"file\"\n            accept=\"*\"\n            id=\"upload-button2\"\n            multiple\n            style={{ display: \"none\" }}\n            onChange={handleUpload}\n          />\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"photoUpload\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          {file.format === \"video\" ? (\n            <video controls src={URL.createObjectURL(file.data)} />\n          ) : (\n            <img src={URL.createObjectURL(file.data)} alt=\"Imagem\" />\n          )}\n          <form onSubmit={sendImage}>\n            <input\n              type=\"text\"\n              placeholder=\"Mensagem\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={sendImage}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Enviar\"\n            )}\n          </button>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"newChat\") {\n    let options;\n    if (window.agents) {\n      options = [];\n      _.forEach(window.agents, (a, k) => {\n        if (a.username && a.isSalesAgent) {\n          options.push([k, a.fullName]);\n        }\n      });\n    }\n\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          {file.newNumber && localStorage.salesAgentId && (\n            <>\n              <h2>Vendedor(a):</h2>\n              <form action=\"null\">\n                <select\n                  value={localStorage.salesAgentId}\n                  onChange={(e) => changeSalesAgent(e.target.value)}\n                >\n                  <option value=\"\" disabled>\n                    Selecione...\n                  </option>\n                  {options.map((a) => (\n                    <option value={a[0]} key={a[0]}>\n                      {a[1]}\n                    </option>\n                  ))}\n                </select>\n              </form>\n            </>\n          )}\n          <h2>Número:</h2>\n          <form onSubmit={addContact}>\n            <NumberFormat\n              type=\"tel\"\n              placeholder=\"Celular\"\n              format=\"(##) #####-####\"\n              value={number}\n              onValueChange={({ formattedValue }) =>\n                handleNumber(formattedValue)\n              }\n            />\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={addContact}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Salvar\"\n            )}\n          </button>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"selectUser\") {\n    let options;\n    if (window.agents) {\n      options = [];\n      _.forEach(window.agents, (a, k) => {\n        if (a.username && a.isSalesAgent) {\n          options.push([k, a.fullName]);\n        }\n      });\n    }\n\n    return (\n      <>\n        <div className={classes.modalBackground} onClick={onclose} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h2>Vendedor(a)</h2>\n          <form action=\"null\">\n            <select\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            >\n              <option value=\"\" disabled>\n                Selecione...\n              </option>\n              {options.map((a) => (\n                <option value={a[0]} key={a[0]}>\n                  {a[1]}\n                </option>\n              ))}\n            </select>\n          </form>\n          <button disabled={buttonDisabled} onClick={handlePickUser}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Entrar\"\n            )}\n          </button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"login\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <img className={classes.logo} src={logo} alt=\"Zoppy\" />\n          <h2>Acesse sua conta</h2>\n          <form onSubmit={login} noValidate>\n            <input\n              type=\"email\"\n              placeholder=\"usuário\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              placeholder=\"senha\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={login}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Entrar\"\n            )}\n          </button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"settings\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <div className={classes.settings}>\n            <h2>Configurações</h2>\n            <label>\n              Selecionar vendedor\n              <input\n                type=\"checkbox\"\n                name=\"manageUsersLocally\"\n                checked={settings.manageUsersLocally}\n                onChange={changeSettings}\n              />\n            </label>\n            <br />\n            <br />\n            <label>\n              Mostrar opções de conversão\n              <input\n                type=\"checkbox\"\n                name=\"salesOptions\"\n                checked={settings.salesOptions}\n                onChange={changeSettings}\n              />\n            </label>\n          </div>\n          <button disabled={buttonDisabled} onClick={onClose}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Salvar\"\n            )}\n          </button>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"sale\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h2>Sacolinha</h2>\n          <form action=\"\" onSubmit={handleSaveSale} noValidate>\n            <input\n              type=\"number\"\n              placeholder=\"Num. itens\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            <div className={classes.saleType}>\n              <input\n                checked={number === \"sale\"}\n                onChange={() => setNumber(\"sale\")}\n                type=\"radio\"\n                name=\"saleType\"\n                id=\"sale\"\n              />\n              <label htmlFor=\"sale\">Venda</label>\n              <input\n                checked={number === \"bag\"}\n                onChange={() => setNumber(\"bag\")}\n                type=\"radio\"\n                name=\"saleType\"\n                id=\"bag\"\n              />\n              <label htmlFor=\"bag\">Malinha</label>\n            </div>\n            {number === \"sale\" ? (\n              <input\n                type=\"number\"\n                placeholder=\"Valor total\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            ) : null}\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={handleSaveSale}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"salvar\"\n            )}\n          </button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"advancedSearch\") {\n    let options;\n    if (window.agents) {\n      options = [];\n      _.forEach(window.agents, (a, k) => {\n        if (a.fullName !== \"WhatsApp\") {\n          options.push([k, a.fullName]);\n        }\n      });\n    }\n\n    return (\n      <>\n        <div className={classes.modalBackground} onClick={onclose} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h2>Atendente</h2>\n          <form>\n            <select\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            >\n              <option value=\"\" disabled>\n                Selecione...\n              </option>\n              <option value=\"all\">Todos</option>\n              {options.map((a) => (\n                <option value={a[0]} key={a[0]}>\n                  {a[1]}\n                </option>\n              ))}\n            </select>\n            <br />\n            <br />\n            <label>\n              Apenas não lidas\n              <input\n                type=\"checkbox\"\n                checked={number}\n                onChange={() => setNumber(!number)}\n              />\n            </label>\n          </form>\n          <button onClick={() => handleFilter()}>Filtrar</button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  }\n  return null;\n};\n\nexport default Modal;\n","import { useEffect, useRef } from \"react\";\n\nexport default (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n              window.location.reload();\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {version} from \"../package.json\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\nwindow.VERSION = version;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Conversations_container__qWCSX\",\"chatsList\":\"Conversations_chatsList__5ZFOR\",\"searchContainer\":\"Conversations_searchContainer__2t-Jn\",\"pin\":\"Conversations_pin__IN16Z\",\"true\":\"Conversations_true__3zKza\",\"chat\":\"Conversations_chat__tpWya\",\"info\":\"Conversations_info__3x34d\",\"message\":\"Conversations_message__2nOMD\",\"unread\":\"Conversations_unread__2jppe\",\"letter\":\"Conversations_letter__2BMf-\",\"lowBattery\":\"Conversations_lowBattery__3I5Zn\",\"header\":\"Conversations_header__2TEBo\",\"bg\":\"Conversations_bg__Fy8_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"ChatBox_chat__34TQL\",\"scroll\":\"ChatBox_scroll__2scZ8\",\"container\":\"ChatBox_container__3sVfA\",\"messages\":\"ChatBox_messages__28jBe\",\"input\":\"ChatBox_input__38Djo\",\"loadMore\":\"ChatBox_loadMore__B8DE2\",\"linearActivity\":\"ChatBox_linearActivity__23EWW\",\"indeterminate\":\"ChatBox_indeterminate__2Mcdq\",\"indeterminate_first\":\"ChatBox_indeterminate_first__1rI0J\",\"indeterminate_second\":\"ChatBox_indeterminate_second__3zO2b\",\"emojiContainer\":\"ChatBox_emojiContainer__1493Q\",\"emojiRoot\":\"ChatBox_emojiRoot__2-XqT\",\"true\":\"ChatBox_true__1drss\",\"hide\":\"ChatBox_hide__3VJj2\",\"record\":\"ChatBox_record__3P1G0\",\"recording\":\"ChatBox_recording__1pwio\",\"voiceMessageRecorder\":\"ChatBox_voiceMessageRecorder__1Ek8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__29fRv\",\"centerContainer\":\"Chat_centerContainer__1LA92\",\"noChat\":\"Chat_noChat___DfYh\",\"header\":\"Chat_header__2dzwL\",\"profilePic\":\"Chat_profilePic__2p-2l\",\"name\":\"Chat_name__17zfT\",\"nameContainer\":\"Chat_nameContainer__DWsR-\",\"pinContainer\":\"Chat_pinContainer__2II5G\",\"active\":\"Chat_active__2ZvGz\",\"arrow\":\"Chat_arrow__qAVEu\",\"headerContent\":\"Chat_headerContent__1bIab\",\"nameInput\":\"Chat_nameInput__Njdoa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContactDetails_container__1YRuT\",\"true\":\"ContactDetails_true__2fw43\",\"close\":\"ContactDetails_close__xIkNr\",\"profilePic\":\"ContactDetails_profilePic__2pL1H\",\"dataContainer\":\"ContactDetails_dataContainer__2DRX-\",\"nameInput\":\"ContactDetails_nameInput__ATxfT\",\"hintBubble\":\"ContactDetails_hintBubble__2V9sb\",\"salesAgent\":\"ContactDetails_salesAgent__1gra5\",\"statsContainer\":\"ContactDetails_statsContainer__3ZSg3\",\"counter\":\"ContactDetails_counter__2s8Ny\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Bubble_container__3zp6Q\",\"options\":\"Bubble_options__3iQ6W\",\"true\":\"Bubble_true__3pCbP\",\"false\":\"Bubble_false__1Qgcd\",\"right\":\"Bubble_right__3dgP0\",\"left\":\"Bubble_left__2T7Ej\",\"center\":\"Bubble_center__3iFQQ\",\"time\":\"Bubble_time__3nKUc\",\"sale\":\"Bubble_sale__FweD3\",\"message\":\"Bubble_message__hkENb\",\"buffer\":\"Bubble_buffer__2LMrl\",\"day\":\"Bubble_day__1fmhW\",\"image\":\"Bubble_image__2IoNd\",\"sticker\":\"Bubble_sticker__UpjsJ\",\"noBg\":\"Bubble_noBg__396Lo\",\"audio\":\"Bubble_audio__Mur7g\",\"audioController\":\"Bubble_audioController__1JJCY\",\"paused\":\"Bubble_paused__1bGIe\",\"msg\":\"Bubble_msg__2OJd2\",\"quote\":\"Bubble_quote__38oy1\",\"from\":\"Bubble_from__3Z1KW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__3ZkGI\",\"container\":\"App_container__1MQN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spinner_container__ZXxv9\",\"loader\":\"Spinner_loader__2t1M8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackground\":\"modal_modalBackground__2bcES\",\"modal\":\"modal_modal__2sHWD\",\"close\":\"modal_close__2_ut9\",\"absolutePosition\":\"modal_absolutePosition__3Gwgi\",\"opaque\":\"modal_opaque__Y1FSs\",\"button\":\"modal_button__YYNXp\",\"logo\":\"modal_logo__EhvJ6\",\"qr\":\"modal_qr__1dgA0\",\"saleType\":\"modal_saleType__K5u6e\"};"],"sourceRoot":""}