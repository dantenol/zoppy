{"version":3,"sources":["assets/images/camera.svg","assets/images/bag.svg","assets/images/clock.svg","assets/images/swap.svg","assets/images/logo.png","Conversations/index.module.css","assets/images/mic.svg","connector.jsx","Conversations/Search.jsx","hooks/helpers.jsx","hooks/FormattedSpan.jsx","Conversations/Chat.jsx","Conversations/LowBattery.jsx","Conversations/Header.jsx","Chat/Spinner/index.jsx","Conversations/index.jsx","Chat/Header.jsx","hooks/useRecorder.jsx","App.jsx","Chat/ChatBox/MessageField.jsx","hooks/outslideClickListener.jsx","Chat/ChatBox/Bubble/PureText.jsx","Chat/ChatBox/Bubble/Image.jsx","Chat/ChatBox/Bubble/Sale.jsx","Chat/ChatBox/Bubble/VoiceMessage.jsx","Chat/ChatBox/Bubble/Sticker.jsx","Chat/ChatBox/Bubble/index.jsx","Chat/ChatBox/Bubble/Day.jsx","Chat/ChatBox/index.jsx","Chat/NoChat.jsx","Chat/ContactDetails/index.jsx","Chat/index.jsx","modal/index.jsx","hooks/useInterval.jsx","serviceWorker.js","index.js","Chat/index.module.css","Chat/ChatBox/index.module.css","Chat/ContactDetails/index.module.css","assets/images/loading.gif","modal/modal.module.css","App.module.css","Chat/Spinner/index.module.css","Chat/ChatBox/Bubble/index.module.css","assets/images/call.svg","assets/images/share.svg","assets/images/icon.png","assets/images/changeUser.svg","assets/images/gear.svg","assets/audio/notification.ogg","assets/images/red.svg","assets/images/green.svg","assets/images/yellow.svg","assets/images/blue.svg","assets/images/orange.svg","assets/images/purple.svg","assets/images/back.svg","assets/images/send.svg","assets/images/emoji.svg"],"names":["module","exports","url","params","access_token","localStorage","Search","handleNewContact","handleQuery","useState","query","setQuery","queryPin","setQueryPin","className","classes","searchContainer","placeholder","type","value","onChange","val","target","onClick","classNames","pin","src","newPhone","alt","parseText","text","str","enter","strong","italic","newLine","lineBreak","Array","isArray","join","replace","idToPhone","id","parsed","slice","indexOf","ddd","lastPart","firstPart","length","FormattedSpan","emojiedText","renderToString","dangerouslySetInnerHTML","__html","FormattedP","calendarTexts","sameDay","nextDay","lastDay","lastWeek","sameElse","Chat","agents","data","handleClick","style","msg","setMsg","sent","setSent","backgroundColor","window","_","forEach","a","k","agentId","color","useEffect","lastMsg","messages","body","mine","loadMsgText","chat","profilePic","info","displayName","moment","lastMessageAt","calendar","message","sentImg","letter","firstLetter","unread","React","memo","lowBattery","agent","logout","handleSettings","fullName","salesAgentProfile","JSON","parse","userId","header","bg","logo","settings","change","Spinner","container","loader","Row","index","dataToShow","handleSelectChat","chatId","Conversations","handleNewContactModal","handleSettingsModal","showing","setDataToShow","filter","c","filtered","chatsList","height","width","itemData","itemCount","itemSize","Header","handleBack","handleToggleDetails","onClickCapture","arrow","back","headerContent","name","navigator","mediaDevices","getUserMedia","audio","stream","MediaRecorder","useRecorder","socket","addedChats","audioURL","setAudioURL","isRecording","setIsRecording","recorder","setRecorder","start","stop","handleData","e","URL","createObjectURL","addEventListener","removeEventListener","requestRecorder","then","console","error","MessageField","handleChangeMessage","send","handleModal","rows","setRows","emoji","setEmoji","focused","setFocused","salesButon","setSalesButon","emojiRef","useRef","salesOptions","ref","funct","handleClickOutside","event","current","contains","document","handlesendButton","emojiContainer","showPreview","showSkinTones","title","set","onSelect","native","input","hide","camera","bag","emojiFace","onKeyDown","keyCode","shiftKey","preventDefault","persist","previousRows","currentRows","scrollHeight","scrollTop","onFocus","onBlur","sendImg","PureText","isGroup","senderName","sender","buffer","time","timestamp","format","sending","clock","Image","showMedia","image","messageId","backgroundImage","highResImg","caption","Sale","sale","VoiceMessage","setAudio","playing","setPlaying","toggle","Audio","log","sounds","getElementsByTagName","i","pause","play","alert","paused","audioController","Sticker","noBg","sticker","Bubble","BubbleComponent","side","right","left","opacity","Day","day","center","more","loading","handleLoadMore","setMessage","includes","messagesEndRef","Date","scrollIntoView","scroll","map","m","last","key","isSame","loadMore","NoChat","centerContainer","noChat","ContactDetails","handleClose","handleChangeName","show","handlePin","setName","savedName","setSavedName","showHint","setShowHint","attendant","setAttendant","enterListener","blur","handleEsc","close","dataContainer","nameInput","hintBubble","salesAgent","me","swap","handleSend","showDetails","setShowDetails","chatContainer","ChatBox","firstClick","localSettings","Modal","file","onClose","handleSendImage","handleNewChat","handleLogin","handleUpload","selectUser","saveSales","handleChangeSettings","passiveSearch","number","setNumber","password","setPassword","buttonDisabled","setButtonDisabled","setSettings","newNumber","options","sendImage","addContact","match","login","handleSaveSale","items","nbrRegex","salesInfo","totalValue","changeSettings","checked","newSettings","imagePadding","mainSrc","onCloseRequest","modalBackground","modal","opaque","update","qr","token","autoPlay","htmlFor","button","accept","capture","display","controls","onSubmit","hidden","disabled","username","isSalesAgent","push","salesAgentId","action","setItem","stringify","changeSalesAgent","onValueChange","handleNumber","formattedValue","onclose","noValidate","manageUsersLocally","saleType","colors","red","green","yellow","blue","orange","purple","initialChats","chats","initialSettings","App","useImmer","setChats","currentChat","setCurrentChat","selectedChatIndex","setSelectedChatIndex","setModal","newChat","setNewChat","urlChecked","setUrlChecked","page","setPage","setLowBattery","URLMessageNumber","setURLMessageNumber","isMobile","innerWidth","notificationSound","checkOnline","axios","loadChats","getStatus","clearLoginData","location","reload","response","status","evaluateStatus","onlineStates","connection","charging","battery","post","goTo","path","hash","io","secure","on","handleChangeAgent","res","addChatWithoutDuplicate","clear","pathname","history","pushState","noBackExitsApp","addMessageToConversations","addSentMessageToConversations","handleDBQuery","updateAfterNewChat","off","idx","findIdxById","checkUrl","agentLetter","cacheConversations","callback","delay","savedCallback","setInterval","clearInterval","useInterval","socketS","loadAgents","emit","chatsArr","findIndex","updateChat","obj","draft","hasOwnProperty","p","getChat","thisURL","split","exec","formatted","removeNine","substring","selectChat","curr","loadOldMessages","pic","loadMessages","msgs","patch","sound","Math","floor","random","unshift","unreadCount","toISOString","sort","b","handleSetAgent","waitingMessageIdx","remove","d","addWithoutDuplicate","msgArr","splice","chatArr","skipDuplicate","o","oc","customName","msgsNumber","backgroundContactQuery","to","string","get","contact","rawMessage","attempt","trim","from","valueOf","customId","setTimeout","formData","FormData","append","headers","email","pwd","isSetup","removeItem","force","Error","wpp","pinned","queried","salesMsg","main","files","user","thisUser","String","lowerStr","toLowerCase","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","getElementById","process","href","origin","fetch","contentType","ready","unregister","checkValidServiceWorker","VERSION","version"],"mappings":"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","file":"static/js/main.f5431951.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/camera.26347224.svg\";","module.exports = __webpack_public_path__ + \"static/media/bag.efe56d36.svg\";","module.exports = __webpack_public_path__ + \"static/media/clock.d1fd750c.svg\";","module.exports = __webpack_public_path__ + \"static/media/swap.61dcf460.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.0e197889.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Conversations_container__qWCSX\",\"chatsList\":\"Conversations_chatsList__5ZFOR\",\"searchContainer\":\"Conversations_searchContainer__2t-Jn\",\"pin\":\"Conversations_pin__IN16Z\",\"true\":\"Conversations_true__3zKza\",\"chat\":\"Conversations_chat__tpWya\",\"info\":\"Conversations_info__3x34d\",\"message\":\"Conversations_message__2nOMD\",\"unread\":\"Conversations_unread__2jppe\",\"letter\":\"Conversations_letter__2BMf-\",\"lowBattery\":\"Conversations_lowBattery__3I5Zn\",\"header\":\"Conversations_header__2TEBo\",\"bg\":\"Conversations_bg__Fy8_9\"};","module.exports = __webpack_public_path__ + \"static/media/mic.3f6068f3.svg\";","export const url = \"/api/\";\n\nexport const params = {\n  params: {\n    access_token: localStorage.access_token,\n  },\n};\n","import React, { useState } from \"react\";\nimport classNames from \"classnames\";\n\nimport newPhone from \"../assets/images/call.svg\";\nimport classes from \"./index.module.css\";\n\nconst Search = ({ handleNewContact, handleQuery }) => {\n  const [query, setQuery] = useState(\"\");\n  const [queryPin, setQueryPin] = useState(false);\n\n  const handleChangeQuery = ({ target }) => {\n    const val = target.value;\n\n    setQuery(val);\n    handleQuery(val, queryPin);\n  };\n  \n  const handleChangePin = () => {\n    setQueryPin(!queryPin);\n    handleQuery(query, !queryPin);\n  }\n  return (\n    <div className={classes.searchContainer}>\n      <input\n        placeholder=\"Pesquisar...\"\n        type=\"text\"\n        value={query}\n        onChange={handleChangeQuery}\n      />\n      <button onClick={handleChangePin}>\n        <div className={classNames(classes.pin, classes[queryPin])}></div>\n      </button>\n      <button onClick={handleNewContact}>\n        <img src={newPhone} alt=\"New contact\" />\n      </button>\n    </div>\n  );\n};\n\nexport default Search;\n","import _ from \"lodash\";\n\nconst urlRegex = /([-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*))/g;\n\nexport const compareArrays = (x, y) => {\n  return _(x).xorWith(y, _.isEqual).isEmpty();\n};\n\nexport const cloneArray = (arr) => _.map(arr, _.clone);\n\nexport const deepDiff = (object, base) => {\n  function changes(object, base) {\n    return _.transform(object, function (result, value, key) {\n      if (!_.isEqual(value, base[key])) {\n        result[key] =\n          _.isObject(value) && _.isObject(base[key])\n            ? changes(value, base[key])\n            : value;\n      }\n    });\n  }\n  return changes(object, base);\n};\n\nexport const asyncLocalStorage = {\n  setItem: (key, value) => {\n    return Promise.resolve().then(localStorage.setItem(key, value));\n  },\n  getItem: (key) => {\n    return Promise.resolve().then(localStorage.getItem(key));\n  },\n};\n\nfunction urlify(txt) {\n  return txt\n    .split(\" \")\n    .map((part, i) => {\n      if (part.match(urlRegex)) {\n        const url = part.startsWith(\"http\") ? part : \"http://\" + part;\n        return (\n          `<a key=${i} rel=\"noopener noreferrer\" target=\"_blank\" href=${url}>` +\n          part +\n          \"</a>\"\n        );\n      }\n      return part;\n    })\n    .join(\" \");\n}\n\nexport function parseText(text, enter = true) {\n  const strong = /\\*(.+?)\\*/g;\n  const italic = /_(.+?)_/g;\n  const newLine = /\\n/g;\n  let lineBreak = \"<br />\";\n  let str;\n  if (typeof text === \"string\") {\n    str = text;\n  } else if (Array.isArray(text)) {\n    str = text.join(\" \");\n  }\n\n  if (!enter) {\n    lineBreak = \"&nbsp;\";\n  } else {\n    // str = urlify(str);\n  }\n\n  if (typeof str !== \"string\") {\n    return str;\n  } else {\n    return str\n      .replace(italic, \"<i>$1</i>\")\n      .replace(newLine, lineBreak)\n      .replace(strong, \"<b>$1</b>\");\n  }\n}\n\nexport const idToPhone = (id) => {\n  const parsed = id.slice(2, id.indexOf(\"@\"));\n  const ddd = parsed.slice(0, 2);\n  const lastPart = parsed.slice(-4);\n  let firstPart = parsed.slice(2, -4);\n  if (firstPart.length === 4) {\n    firstPart = \"9\" + firstPart;\n  }\n  return `(${ddd}) ${firstPart}-${lastPart}`;\n};\n","import React from \"react\";\nimport { renderToString } from \"react-dom/server\";\nimport { Emojione } from 'react-emoji-render';\n\nimport { parseText } from \"./helpers\";\n\nconst FormattedSpan = ({ text, enter }) => {\n  const emojiedText = renderToString(<Emojione text={text} />);\n\n  return (\n    <span dangerouslySetInnerHTML={{ __html: parseText(emojiedText, enter) }}></span>\n  );\n};\n\nexport default FormattedSpan;\n\nexport const FormattedP = ({ text, enter }) => {\n  const emojiedText = renderToString(<Emojione text={text} />);\n\n  return (\n    <p dangerouslySetInnerHTML={{ __html: parseText(emojiedText, enter) }}></p>\n  );\n};\n\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\n\nimport classes from \"./index.module.css\";\n\nimport sentImg from \"../assets/images/share.svg\";\nimport { parseText } from \"../hooks/helpers\";\nimport { FormattedP } from \"../hooks/FormattedSpan\";\n\nconst calendarTexts = {\n  sameDay: \"HH:mm\",\n  nextDay: \"[Tomorrow]\",\n  lastDay: \"[Ontem]\",\n  lastWeek: \"dddd\",\n  sameElse: \"DD/MM/YYYY\",\n};\n\nconst Chat = ({ data, handleClick, style }) => {\n  const [msg, setMsg] = useState(\"\");\n  const [sent, setSent] = useState();\n  let agents;\n  let backgroundColor = \"initial\";\n  if (window.agents) {\n    agents = window.agents;\n    _.forEach(agents, (a, k) => {\n      if (k === data.agentId) {\n        backgroundColor = a.color;\n      }\n    });\n  }\n\n  const loadMsgText = () => {\n    const lastMsg = data.messages[0];\n\n    if (!lastMsg) {\n      setMsg(\"~Sem mensagem\");\n    } else if (lastMsg.type === \"chat\") {\n      setMsg(lastMsg.body);\n    } else if (lastMsg.type === \"ptt\") {\n      setMsg(\"Áudio\");\n    } else if (lastMsg.type === \"sale\") {\n      setMsg(\"Venda\");\n    } else if (lastMsg.type === \"image\") {\n      setMsg(\"📷 Foto\");\n    } else if (lastMsg.type === \"sticker\") {\n      setMsg(\"📷 Adesivo\");\n    } else {\n      setMsg(lastMsg.type);\n    }\n\n    if (lastMsg) {\n      setSent(lastMsg.mine);\n    }\n  };\n\n  useEffect(() => {\n    loadMsgText();\n  });\n\n  return (\n    <div className={classes.chat} style={style} onClick={handleClick}>\n      <img src={data.profilePic} alt=\"Chat\" />\n      <div>\n        <div className={classes.info}>\n          <b>{data.displayName}</b>\n          <p>{moment(data.lastMessageAt).calendar(calendarTexts)}</p>\n        </div>\n        <div className={classes.message}>\n          {sent && <img src={sentImg} alt=\"Enviado\" />}\n          {msg && <FormattedP text={msg} enter={false} />}\n          {data.agentId && (\n            <span className={classes.letter} style={{ backgroundColor }}>\n              {agents[data.agentId].firstLetter}\n            </span>\n          )}\n          {data.unread > 0 && (\n            <span className={classes.unread}>{data.unread}</span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\n\nconst LowBattery = () => (\n  <div className={classNames(classes.chat, classes.lowBattery)}>\n    A bateria está acabando. Carregue o celular principal.\n  </div>\n);\n\nexport default React.memo(LowBattery);\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport logo from \"../assets/images/icon.png\";\nimport change from \"../assets/images/changeUser.svg\";\nimport settings from \"../assets/images/gear.svg\";\nimport classes from \"./index.module.css\";\n\nconst Header = ({ logout, handleSettings }) => {\n  let agent;\n  if (localStorage.salesAgentProfile) {\n    agent = JSON.parse(localStorage.salesAgentProfile);\n  } else {\n    agent = JSON.parse(localStorage.agents)[localStorage.userId];\n  }\n\n  const fullName = (agent && agent.fullName) || \"\";\n\n  return (\n    <div className={classNames(classes.header)}>\n      <img className={classes.bg} src={logo} alt=\"Zoppy\" />\n      <p>{fullName}</p>\n      <button onClick={handleSettings}>\n        <img src={settings} alt=\"change settings\" />\n      </button>\n      <button onClick={() => logout()}>\n        <img src={change} alt=\"change user\" />\n      </button>\n    </div>\n  );\n};\n\nexport default React.memo(Header);\n","import React from \"react\";\n\nimport classes from \"./index.module.css\";\n\nconst Spinner = () => (\n  <div className={classes.container}>\n    <div className={classes.loader}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  </div>\n);\n\nexport default Spinner;\n","import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { FixedSizeList as List } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nimport classes from \"./index.module.css\";\nimport Search from \"./Search\";\nimport Chat from \"./Chat\";\nimport LowBattery from \"./LowBattery\";\nimport Header from \"./Header\";\nimport Spinner from \"../Chat/Spinner\";\n\nconst Row = ({ data, index, style }) => (\n  <Chat\n    style={style}\n    data={data.dataToShow[index]}\n    handleClick={() => data.handleSelectChat(data.dataToShow[index].chatId)}\n  />\n);\n\nconst Conversations = ({\n  data,\n  handleQuery,\n  handleSelectChat,\n  handleNewContactModal,\n  handleSettingsModal,\n  showing,\n  logout,\n  lowBattery,\n}) => {\n  const [dataToShow, setDataToShow] = useState(data);\n  useEffect(() => {\n    setDataToShow(data.filter((c) => c.filtered));\n  }, [data]);\n\n  return (\n    <div className={classNames(classes.container, \"mobile-fullwidth\", showing)}>\n      {localStorage.agents && localStorage.userId && (\n        <Header logout={logout} handleSettings={handleSettingsModal} />\n      )}\n      <Search\n        handleNewContact={handleNewContactModal}\n        handleQuery={handleQuery}\n      />\n      {lowBattery && <LowBattery />}\n      <div className={classes.chatsList}>\n        {data.length ? (\n          <AutoSizer>\n            {({ height, width }) => (\n              <List\n                height={height}\n                itemData={{ dataToShow, handleSelectChat }}\n                itemCount={dataToShow.length}\n                itemSize={81}\n                width={width}\n              >\n                {Row}\n              </List>\n            )}\n          </AutoSizer>\n        ) : (\n          <Spinner />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Conversations;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport back from \"../assets/images/back.svg\";\n\nconst Header = ({ data, handleBack, handleToggleDetails }) => (\n  <div className={classes.header}>\n    <button\n      onClickCapture={handleBack}\n      className={classNames(classes.arrow, \"mobile-only\")}\n    >\n      <img src={back} alt=\"back\" />\n    </button>\n    <div className={classes.headerContent} onClick={handleToggleDetails} >\n      <img className={classes.profilePic} src={data.profilePic} alt=\"Foto\" />\n      <div className={classes.name}>\n        <div className={classes.name}>{data.displayName}</div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Header;\n","import { useEffect, useState } from \"react\";\n\nconst useRecorder = () => {\n  const [audioURL, setAudioURL] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [recorder, setRecorder] = useState(null);\n\n  useEffect(() => {\n    if (recorder === null) {\n      if (isRecording) {\n        requestRecorder().then(setRecorder, console.error);\n      }\n      return;\n    }\n\n    if (isRecording) {\n      recorder.start();\n    } else {\n      recorder.stop();\n    }\n\n    const handleData = (e) => {\n      setAudioURL(URL.createObjectURL(e.data));\n    };\n\n    recorder.addEventListener(\"dataavailable\", handleData);\n    return () => recorder.removeEventListener(\"dataavailable\", handleData);\n  }, [recorder, isRecording]);\n\n  const startRecording = () => {\n    setIsRecording(true);\n  };\n\n  const stopRecording = () => {\n    setIsRecording(false);\n  };\n\n  return [audioURL, isRecording, startRecording, stopRecording];\n};\n\nasync function requestRecorder() {\n  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n  return new MediaRecorder(stream);\n}\n\nexport default useRecorder;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport \"moment/locale/pt-br\";\nimport io from \"socket.io-client\";\nimport { useImmer } from \"use-immer\";\n\nimport { url, params } from \"./connector\";\n\nimport useInterval from \"./hooks/useInterval\";\nimport classes from \"./App.module.css\";\nimport Conversations from \"./Conversations\";\nimport notificationSound from \"./assets/audio/notification.ogg\";\nimport { idToPhone } from \"./hooks/helpers\";\n\nimport red from \"./assets/images/red.svg\";\nimport green from \"./assets/images/green.svg\";\nimport yellow from \"./assets/images/yellow.svg\";\nimport blue from \"./assets/images/blue.svg\";\nimport orange from \"./assets/images/orange.svg\";\nimport purple from \"./assets/images/purple.svg\";\nimport Chat from \"./Chat\";\nimport Modal from \"./modal\";\n\nconst colors = [red, green, yellow, blue, orange, purple];\nconst initialChats = JSON.parse(localStorage.chats || 0);\nconst initialSettings = JSON.parse(localStorage.settings || 0) || {\n  manageUsersLocally: false,\n  salesOptions: false,\n};\n\nlet socket, addedChats;\nconst App = () => {\n  const [chats, setChats] = useImmer(initialChats || []);\n  const [currentChat, setCurrentChat] = useState();\n  const [selectedChatIndex, setSelectedChatIndex] = useState();\n  const [modal, setModal] = useState(null);\n  const [newChat, setNewChat] = useState(null);\n  const [urlChecked, setUrlChecked] = useState(false);\n  const [page, setPage] = useState(\"conversations\");\n  const [lowBattery, setLowBattery] = useState(false);\n  const [settings, setSettings] = useState(initialSettings);\n  const [URLMessageNumber, setURLMessageNumber] = useState(\"\");\n  const isMobile = window.innerWidth <= 600;\n  const audio = new Audio(notificationSound);\n  const me = localStorage.salesAgentId || localStorage.userId;\n  window.me = me;\n\n  function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  const checkOnline = async () => {\n    try {\n      const isSetup = (await axios(`${url}chats/online`, params)).data;\n      if (isSetup) {\n        loadChats(socket);\n        getStatus();\n        window.socket = socket;\n      } else {\n        alert(\n          \"Ops, sua conexão foi perdida. Continue para sincronizar novamente.\"\n        );\n        clearLoginData();\n        window.location.reload();\n      }\n    } catch (error) {\n      if (error.response.status === 401) {\n        alert(\n          \"Fizemos alguns ajustes por aqui, e você vai ter que logar novamente\"\n        );\n        clearLoginData();\n        window.location.reload();\n      }\n    }\n  };\n\n  const evaluateStatus = (data) => {\n    const onlineStates = [\"TIMEOUT\", \"CONNECTED\", \"PAIRING\", \"OPENING\"];\n    if (!onlineStates.includes(data.connection)) {\n      console.log(\"OFFLINE\", data);\n      setModal({ type: \"offline\" });\n      axios.post(`${url}/chats/refocus`, {}, params);\n    } else if (\n      onlineStates.includes(data.connection) &&\n      modal &&\n      modal.type === \"offline\"\n    ) {\n      setModal(false);\n    } else if (!data.charging && data.battery < 20) {\n      setLowBattery(true);\n    } else if (data.charging || data.battery > 20) {\n      setLowBattery(false);\n    }\n  };\n\n  const getStatus = async () => {\n    const { data } = await axios(`${url}chats/status`, params);\n    evaluateStatus(data);\n  };\n\n  const cacheConversations = () => {\n    const parsed = chats.map(\n      ({\n        displayName,\n        agentLetter,\n        chatId,\n        lastMessageAt,\n        type,\n        messages,\n        profilePic,\n      }) => ({\n        displayName,\n        agentLetter,\n        chatId,\n        lastMessageAt,\n        type,\n        messages: [messages[0]],\n        filtered: true,\n        firstClick: false,\n        profilePic,\n      })\n    );\n    localStorage.setItem(\"chats\", JSON.stringify(parsed));\n  };\n\n  const goTo = (path) => {\n    switch (path) {\n      case \"conversations\":\n        setPage(\"conversations\");\n        window.location.hash = \"\";\n        break;\n      case \"chat\":\n        setPage(\"chat\");\n        window.location.hash = \"chat\";\n        break;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    window.agents = JSON.parse(localStorage.agents || 0);\n    window.location.hash = \"\";\n    if (localStorage.access_token) {\n      checkOnline();\n      socket = io({\n        secure: true,\n        query: {\n          access_token: localStorage.access_token,\n        },\n      });\n      socket.on(\"reload\", () => {\n        window.location.reload();\n      });\n      socket.on(\"setAgent\", (data) => {\n        handleChangeAgent(data);\n      });\n      socket.on(\"loadedChats\", (res) => {\n        console.log(res);\n        addChatWithoutDuplicate(res.data);\n      });\n      socket.on(\"status\", (data) => {\n        console.log(data);\n        evaluateStatus(data);\n      });\n    } else {\n      localStorage.clear();\n      setModal({\n        type: \"login\",\n      });\n    }\n    if (!localStorage.settings) {\n      localStorage.setItem(\n        \"settings\",\n        JSON.stringify({\n          manageUsersLocally: false,\n          salesOptions: false,\n        })\n      );\n      // window.location.reload();\n    } else if (\n      window.location.pathname === \"/\" &&\n      JSON.parse(localStorage.settings).manageUsersLocally\n    ) {\n      setModal({ type: \"selectUser\" });\n    }\n    window.addEventListener(\"load\", function () {\n      window.history.pushState({ noBackExitsApp: true }, \"\");\n    });\n    window.addEventListener(\"hashchange\", navigator);\n  }, []);\n\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"newMessage\", (data) => {\n        console.log(\"recieved\", data);\n        addMessageToConversations(data);\n      });\n      socket.on(\"sentMessage\", (data) => {\n        addSentMessageToConversations(data);\n      });\n      socket.on(\"queryResult\", (res) => {\n        handleDBQuery(res);\n      });\n    }\n    if (newChat && chats[0].chatId === newChat.chatId) {\n      updateAfterNewChat(chats[0].chatId)\n    }\n    return () => {\n      if (socket) {\n        socket.off(\"newMessage\");\n        socket.off(\"sentMessage\");\n        socket.off(\"queryResult\");\n      }\n    };\n  }, [chats, newChat]);\n\n  useEffect(() => {\n    let idx = findIdxById(currentChat);\n    if (selectedChatIndex !== idx) {\n      setSelectedChatIndex(idx);\n    }\n    if (chats.length && !urlChecked) {\n      setUrlChecked(false);\n      checkUrl();\n    }\n    cacheConversations();\n  }, [chats]);\n\n  useInterval(() => {\n    if (modal && modal.type === \"offline\") {\n      getStatus();\n    }\n  }, 5000);\n\n  const navigator = () => {\n    const path = window.location.hash;\n\n    if (!path) {\n      setPage(\"conversations\");\n    } else if (path === \"#chat\") {\n      setPage(\"chat\");\n    }\n  };\n\n  const loadChats = async (socketS) => {\n    loadAgents();\n    console.log(\"requesting chats\");\n    socketS.emit(\"getChats\");\n  };\n\n  const findIdxById = (id, chatsArr = chats) => {\n    return chatsArr.findIndex((c) => c.chatId === id);\n  };\n\n  const updateChat = (obj, id) => {\n    let idx = findIdxById(id);\n    setChats((draft) => {\n      for (const key in obj) {\n        if (obj.hasOwnProperty(key) && idx >= 0) {\n          const p = obj[key];\n          draft[idx][key] = p;\n        }\n      }\n    });\n  };\n\n  const getChat = async (id) => {\n    const res = await axios(`${url}chats/findChat/${id}`, params);\n    if (res.data.length) {\n      handleDBQuery([res.data]);\n    }\n  };\n\n  const checkUrl = async () => {\n    const thisURL = window.location.pathname.split(\"/\")[1];\n    if (thisURL.length < 12) {\n      return;\n    }\n    const number = /^55(\\d{2})([89]?)(\\d{4})(\\d{4})$/g.exec(thisURL);\n    if (!number) {\n      return;\n    }\n    const parsed = 55 + number[1] + number[2] + number[3] + number[4] + \"@c.us\";\n    const formatted = `(${number[1]}) ${number[2] || 9}${number[3]}-${\n      number[4]\n    }`;\n    const removeNine =\n      parsed.substring(0, 4) + parsed.substring(5, parsed.length);\n    setURLMessageNumber(formatted);\n    if (findIdxById(removeNine) >= 0) {\n      selectChat(removeNine);\n    } else if (findIdxById(parsed) >= 0) {\n      selectChat(parsed);\n    } else {\n      setModal({\n        type: \"newChat\",\n        newNumber: formatted,\n      });\n      getChat(number[3] + number[4]);\n    }\n    window.history.pushState({}, \"Zoppy\", \"/\");\n  };\n\n  const selectChat = async (id) => {\n    let index = findIdxById(id);\n    setSelectedChatIndex(index);\n    const curr = chats[index];\n    setNewChat(false);\n    loadOldMessages(null, id);\n    setCurrentChat(curr.chatId);\n    goTo(\"chat\");\n    let pic = {};\n\n    try {\n      pic = await axios(`${url}chats/${curr.chatId}/profilePic`, params);\n    } catch (error) {\n      console.log(\"fail to load pic\");\n    }\n    const obj = { unread: 0, profilePic: pic.data || curr.profilePic };\n    if (curr.firstClick) {\n      const msgs = await loadMessages(curr.chatId);\n\n      updateChat({ messages: msgs, firstClick: false, ...obj }, curr.chatId);\n    } else {\n      updateChat(obj, curr.chatId);\n    }\n    axios.patch(`${url}chats/${curr.chatId}/seen`, {}, params);\n  };\n\n  const handleChangeName = async (name, id = currentChat) => {\n    try {\n      await axios.patch(\n        `${url}chats/${id}/name`,\n        {\n          name,\n        },\n        params\n      );\n\n      const idx = findIdxById(id);\n      setChats((draft) => {\n        draft[idx].displayName = name;\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const loadMessages = async (id) => {\n    const msgs = await axios(`${url}chats/${id}/messages`, params);\n    return msgs.data;\n  };\n\n  const addMessageToConversations = (data) => {\n    let sound;\n    const msg = data.message;\n\n    const idx = findIdxById(msg.chatId, chats);\n    console.log(idx);\n    if (idx < 0) {\n      data.profilePic = colors[Math.floor(Math.random() * 6)];\n      data.displayName = idToPhone(msg.chatId);\n      data.firstClick = true;\n      data.more = true;\n      data.unread = 1;\n      data.filtered = true;\n      data.messages = [msg];\n      data.chatId = msg.chatId;\n      if (!msg.mine) {\n        audio.play();\n      }\n      setChats((draft) => {\n        draft.unshift(data);\n      });\n      return;\n    }\n\n    if (data.chatId !== currentChat && msg.type !== \"sale\") {\n      const notifyable = !chats[idx].agentId || chats[idx].agentId === me;\n      if (\n        notifyable &&\n        msg.timestamp >= chats[idx].lastMessageAt &&\n        !data.mine\n      ) {\n        sound = true;\n      }\n    }\n\n    let unreadCount = chats[idx].unread;\n    if (idx !== selectedChatIndex && !data.mine) {\n      if (unreadCount) {\n        unreadCount += 1;\n      } else {\n        unreadCount = 1;\n      }\n    }\n\n    setChats((draft) => {\n      draft[idx].messages.unshift(data.message);\n      draft[idx].lastMessageAt =\n        data.message.timestamp || new Date().toISOString();\n      draft[idx].unread = unreadCount;\n      draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n    });\n\n    sound && audio.play();\n    if (selectedChatIndex >= 0 && idx > selectedChatIndex) {\n      setSelectedChatIndex(selectedChatIndex + 1);\n    }\n  };\n\n  const handleRecieveChats = ({ data, count }) => {\n    const chts = data.map((c) => {\n      const image = colors[Math.floor(Math.random() * 6)];\n      c.profilePic = c.profilePic || image;\n      c.firstClick = true;\n      c.filtered = true;\n      c.more = true;\n      c.displayName = c.customName || c.name;\n      if (c.messages.length && c.messages[0].mine) {\n        c.unread = 0;\n      }\n      return c;\n    });\n\n    if (!count) {\n      console.log(\"STARTING\");\n      setChats(() => chts);\n    } else {\n      setChats((draft) => {\n        draft.push(...chts);\n        draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n      });\n    }\n  };\n\n  const updateAfterNewChat = (chatId) => {\n    console.log(findIdxById(chatId));\n    console.log(chats[0]);\n    handleSetAgent(false, chatId);\n    setSelectedChatIndex(0);\n    selectChat(chatId);\n  }\n\n  const addSentMessageToConversations = (msg) => {\n    const data = { chatId: msg.chatId, message: msg };\n\n    const idx = findIdxById(data.chatId);\n    if (idx < 0) {\n      data.profilePic = colors[Math.floor(Math.random() * 6)];\n      data.displayName = idToPhone(data.chatId);\n      data.filtered = true;\n      data.messages = [msg];\n      setChats((draft) => {\n        draft.unshift(data);\n      });\n      return;\n    }\n\n    const waitingMessageIdx = chats[idx].messages.findIndex(\n      (m) => m.sending && m.body === msg.body\n    );\n    setChats((draft) => {\n      _.remove(draft[idx].messages, (d) => d.messageId === msg.messageId);\n      if (waitingMessageIdx >= 0) {\n        draft[idx].messages[waitingMessageIdx] = msg;\n      } else {\n        draft[idx].messages.unshift(msg);\n      }\n      draft[idx].lastMessageAt = msg.timestamp || new Date().toISOString();\n      draft[idx].unread = 0;\n      draft[idx].messages.sort((a, b) => (a.timestamp < b.timestamp ? 1 : -1)); // TODO improve it\n      draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n    });\n    if (waitingMessageIdx >= 0) {\n      setSelectedChatIndex(0);\n    }\n  };\n\n  const addWithoutDuplicate = (msgArr) => {\n    const idx = findIdxById(msgArr[0].chatId);\n    setChats((draft) => {\n      if (draft[idx] && draft[idx].messages[0] === \"none\") {\n        draft[idx].messages.splice(0, 1);\n      }\n      console.log(idx);\n      msgArr.forEach((m) => {\n        const i = draft[idx].messages.findIndex(\n          (c) => c.messageId === m.messageId\n        );\n        if (i < 0) {\n          draft[idx].messages.push(m);\n        }\n      });\n    });\n  };\n\n  const addChatWithoutDuplicate = (chatArr, skipDuplicate) => {\n    setChats((draft) => {\n      if (!addedChats) {\n        addedChats = 1;\n        draft.splice(0, draft.length);\n      }\n      chatArr.forEach((o) => {\n        const c = { ...o };\n        const image = colors[Math.floor(Math.random() * 6)];\n        const i = draft.findIndex((oc) => oc.chatId === c.chatId);\n        c.profilePic = c.profilePic || image;\n        c.filtered = true;\n        c.displayName = c.name;\n        c.more = true;\n        c.firstClick = true;\n        c.displayName = c.customName || c.name;\n        if (!c.messages || !c.messages.length) {\n          c.messages = [\"none\"];\n        } else if (c.messages.length && c.messages[0].mine) {\n          c.unread = 0;\n        }\n        if (i < 0) {\n          draft.push(c);\n        } else if (!skipDuplicate) {\n          draft[i] = c;\n        }\n      });\n      draft.sort((a, b) => (a.lastMessageAt < b.lastMessageAt ? 1 : -1));\n    });\n  };\n\n  const loadOldMessages = async (e, chatId = currentChat) => {\n    console.log(chatId);\n    const idx = findIdxById(chatId);\n    const curr = [...chats];\n    const msgsNumber = curr[idx].messages.length;\n    const msgs = await axios(\n      `${url}chats/${chatId}/messages?filter={\"skip\":${msgsNumber}}`,\n      params\n    );\n\n    if (!msgs.data.length) {\n      console.log(\"no msgs\");\n      updateChat({ more: false }, chatId);\n    } else {\n      addWithoutDuplicate(msgs.data);\n    }\n  };\n\n  const backgroundContactQuery = async (to) => {\n    const removeNine = to.substring(0, 4) + to.substring(5, to.length);\n    socket.emit(\"queryChat\", { string: removeNine });\n  };\n\n  const handleNewContact = async (name, to) => {\n    const removeNine = to.substring(0, 4) + to.substring(5, to.length);\n    const idx2 = findIdxById(removeNine);\n    if (idx2 >= 0) {\n      selectChat(removeNine);\n      setModal(false);\n      return;\n    }\n    const idx = findIdxById(to);\n    if (idx >= 0) {\n      selectChat(to);\n      setModal(false);\n      return;\n    }\n    const contact = await axios.get(`${url}chats/${to}/check`, params);\n    if (!contact.data) {\n      alert(\"Esse número não tem WhatsApp! Tente novamente\");\n      setModal(false);\n      setModal({ type: \"newChat\" });\n      return;\n    }\n    const chat = {\n      profilePic: colors[Math.floor(Math.random() * 6)],\n      chatId: contact.data,\n      displayName: name,\n      messages: [\"none\"],\n      type: \"chat\",\n      timestamp: 0,\n    };\n    goTo(\"chat\");\n    setNewChat(chat);\n    setModal(false);\n  };\n\n  const send = async (rawMessage, to = currentChat, attempt = 0) => {\n    let from;\n    const message = rawMessage.trim();\n    // setLastSentMessage(new Date());\n    if (!message) {\n      return;\n    }\n    if (newChat) {\n      to = newChat.chatId;\n    }\n    if (settings.manageUsersLocally && localStorage.salesAgentId) {\n      from = localStorage.salesAgentId;\n    }\n    console.log(\"sending\");\n    let id = new Date().valueOf();\n    const data = {\n      messageId: id,\n      mine: true,\n      agentId: me,\n      body: message,\n      timestamp: new Date().toISOString(),\n      sending: true,\n      type: \"chat\",\n      sender: \"Você\",\n      chatId: to,\n    };\n    if (to === currentChat) {\n      const idx = selectedChatIndex;\n      if (!chats[idx].agentId) {\n        handleSetAgent();\n      }\n      setChats((draft) => {\n        draft[idx].messages.unshift(data);\n      });\n    } else {\n      setNewChat({ ...newChat, messages: [data] });\n    }\n\n    try {\n      await axios.post(\n        `${url}chats/${to}/send`,\n        {\n          message,\n          from,\n          customId: id,\n        },\n        params\n      );\n    } catch (error) {\n      console.log(error.response);\n      if (attempt < 3) {\n        setTimeout(async () => {\n          await send(message, to, attempt + 1);\n        }, 200);\n      } else {\n        throw error;\n      }\n    }\n  };\n\n  const handleShowMedia = (type, id) => {\n    setModal({ type, id });\n  };\n\n  const handleUploadModal = (e) => {\n    e.persist();\n    console.log(e.target.files[0]);\n    setModal({\n      data: e.target.files[0],\n      type: \"photoUpload\",\n      format: e.target.files[0].type.includes(\"video\") ? \"video\" : \"photo\",\n    });\n    e.target.value = null;\n  };\n\n  const handleNewContactModal = () => {\n    setModal({\n      type: \"newChat\",\n      newNumber: URLMessageNumber,\n    });\n    setURLMessageNumber(\"\");\n  };\n\n  const selectUser = (user) => {\n    localStorage.setItem(\"salesAgentId\", user);\n    const thisUser = window.agents[user];\n    localStorage.setItem(\"salesAgentProfile\", JSON.stringify(thisUser));\n    setModal(false);\n  };\n\n  const handleSendImage = async (caption) => {\n    const file = modal.data;\n    const formData = new FormData();\n    formData.append(\"\", file);\n    formData.append(\"caption\", caption);\n\n    const msg = await axios.post(\n      `${url}chats/${currentChat}/sendMedia`,\n      formData,\n      {\n        ...params,\n        headers: {\n          accept: \"application/json\",\n          \"Content-Type\": \"application/form-data\",\n        },\n      }\n    );\n\n    const idx = findIdxById(currentChat);\n\n    setChats((draft) => {\n      draft[idx].messages.unshift(msg.data);\n    });\n    setModal(false);\n    return true;\n  };\n\n  const login = async (email, pwd) => {\n    let type = \"username\";\n    if (email.includes(\"@\")) {\n      type = \"email\";\n    }\n    try {\n      const res = await axios.post(`${url}agents/login`, {\n        [type]: email,\n        password: pwd,\n      });\n      localStorage.setItem(\"access_token\", res.data.id);\n      localStorage.setItem(\"userId\", res.data.userId);\n      const isSetup = (\n        await axios(`${url}chats/online`, {\n          params: {\n            access_token: res.data.id,\n          },\n        })\n      ).data;\n      console.log(isSetup);\n      if (isSetup) {\n        localStorage.setItem(\"connected\", true);\n        window.location.reload();\n      } else {\n        await axios.post(\n          `${url}chats/init`,\n          {},\n          {\n            params: {\n              access_token: res.data.id,\n            },\n          }\n        );\n        localStorage.removeItem(\"chats\");\n        setInterval(async () => {\n          setModal({\n            type: \"qr\",\n            token: res.data.id,\n            update: Math.random(),\n          });\n          const check = (\n            await axios(`${url}chats/online`, {\n              params: {\n                access_token: res.data.id,\n              },\n            })\n          ).data;\n          if (check) {\n            localStorage.removeItem(\"chats\");\n            localStorage.setItem(\"connected\", true);\n            window.location.reload();\n          }\n        }, 2000);\n      }\n    } catch (error) {\n      console.log(error);\n      alert(\"Email ou senha incorreto\");\n    }\n  };\n\n  const clearLoginData = () => {\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"connected\");\n  };\n\n  const logout = async (force) => {\n    if (settings.manageUsersLocally && !force) {\n      setModal({ type: \"selectUser\" });\n    } else {\n      await axios.post(`${url}agents/logout`, {}, params);\n      clearLoginData();\n      setModal({ type: \"login\" });\n    }\n  };\n\n  const handleSetAgent = async (val, chat = currentChat) => {\n    try {\n      const { data } = await axios.patch(\n        `${url}chats/${chat}/claim`,\n        {\n          remove: !!val,\n          customId: localStorage.salesAgentId,\n        },\n        params\n      );\n    } catch (error) {\n      console.log(error);\n      throw new Error(\"error\");\n    }\n  };\n\n  const handleChangeAgent = (data) => {\n    const { agentId, agentLetter } = data;\n    updateChat(\n      {\n        agentId,\n        agentLetter,\n      },\n      data.chatId\n    );\n  };\n\n  const loadAgents = async () => {\n    try {\n      const { data } = await axios(`${url}agents/list`, params);\n      data.wpp = { fullName: \"WhatsApp\" };\n      window.agents = data;\n      localStorage.setItem(\"agents\", JSON.stringify(data));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleDBQuery = ({ res, pinned }) => {\n    const queried = [];\n    if (!res) {\n      return;\n    }\n    res.forEach((c) => {\n      if (pinned && c.agentId === me) {\n        queried.push(c);\n      } else if (!pinned) {\n        queried.push(c);\n      }\n    });\n    if (queried.length) {\n      addChatWithoutDuplicate(queried, true);\n    }\n  };\n\n  const handleQuery = (string, pinned) => {\n    socket.emit(\"queryChat\", { pinned, string });\n    setChats((draft) => {\n      draft.map((c) => {\n        const lowerStr = string.toLowerCase();\n        let str = true;\n        let pin = true;\n        if (string) {\n          console.log(c.chatId);\n          str =\n            (c.displayName && c.displayName.toLowerCase().includes(lowerStr)) ||\n            c.chatId.slice(0, 12).includes(lowerStr);\n        }\n        if (pinned) {\n          pin = c.agentId === me;\n        }\n        c.filtered = str && pin;\n        return c;\n      });\n    });\n  };\n\n  const handleSettingsModal = () => {\n    setModal({\n      type: \"settings\",\n      settings,\n    });\n  };\n\n  const handleChangeSettings = (data) => {\n    setSettings(data);\n    localStorage.setItem(\"settings\", JSON.stringify(data));\n    if (!data.manageUsersLocally) {\n      localStorage.removeItem(\"salesAgentProfile\");\n      localStorage.removeItem(\"salesAgentId\");\n    }\n  };\n\n  const saveSales = async (data) => {\n    data.agentId = me;\n    data.chatId = currentChat;\n    const salesMsg = await axios.post(`${url}sales/new`, data, params);\n    console.log(salesMsg);\n    addMessageToConversations({\n      chatId: salesMsg.data.chatId,\n      message: salesMsg.data,\n    });\n    setModal(false);\n  };\n\n  const handleModal = (type) => {\n    setModal({ type });\n  };\n\n  return (\n    <main className={classes.main}>\n      <Modal\n        file={modal}\n        onClose={() => setModal(false)}\n        handleSendImage={handleSendImage}\n        handleNewChat={handleNewContact}\n        handleChangeSettings={handleChangeSettings}\n        handleLogin={login}\n        handleUpload={handleUploadModal}\n        saveSales={saveSales}\n        selectUser={selectUser}\n        passiveSearch={backgroundContactQuery}\n      />\n      <div className={classes.container}>\n        <Conversations\n          showing={String(isMobile && page === \"conversations\")}\n          data={chats}\n          handleSettingsModal={handleSettingsModal}\n          logout={logout}\n          handleQuery={handleQuery}\n          handleSelectChat={selectChat}\n          lowBattery={lowBattery}\n          handleNewContactModal={handleNewContactModal}\n        />\n        <Chat\n          handleBack={() => goTo(\"conversations\")}\n          showing={String(isMobile && page === \"chat\")}\n          handleModal={handleModal}\n          showMedia={handleShowMedia}\n          handleSend={send}\n          handleChangeName={handleChangeName}\n          handleLoadMore={loadOldMessages}\n          chat={newChat || chats[selectedChatIndex]}\n          handlePin={handleSetAgent}\n        />\n      </div>\n    </main>\n  );\n};\n\nexport default App;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport sendImg from \"../../assets/images/send.svg\";\nimport emojiFace from \"../../assets/images/emoji.svg\";\nimport camera from \"../../assets/images/camera.svg\";\nimport mic from \"../../assets/images/mic.svg\";\nimport bag from \"../../assets/images/bag.svg\";\nimport outslideClickListener from \"../../hooks/outslideClickListener\";\nimport useRecorder from \"../../hooks/useRecorder\";\n\nconst MessageField = ({ message, handleChangeMessage, send, handleModal }) => {\n  const [rows, setRows] = useState(1);\n  const [emoji, setEmoji] = useState();\n  const [focused, setFocused] = useState(false);\n  const [salesButon, setSalesButon] = useState(false);\n  const [startedRecording, setStartedRecording] = useState(0);\n  const emojiRef = useRef();\n\n  let [audioURL, isRecording, startRecording, stopRecording] = useRecorder();\n\n  const handleRecord = (e) => {\n    e.preventDefault();\n    setStartedRecording(new Date().valueOf());\n    startRecording();\n  };\n  const handleEndTouch = () => {\n    if (startedRecording - new Date() > 300) {\n    }\n    stopRecording();\n  };\n\n  useEffect(() => {\n    if (\n      localStorage.settings &&\n      JSON.parse(localStorage.settings).salesOptions\n    ) {\n      setSalesButon(true);\n    } else {\n      setSalesButon(false);\n    }\n  }, [localStorage.settings]);\n\n  // useEffect(() => {\n  //   navigator.getUserMedia(\n  //     { audio: true },\n  //     () => {\n  //       console.log(\"Permission Granted\");\n  //       setAllowsRecording(true);\n  //     },\n  //     () => {\n  //       console.log(\"Permission Denied\");\n  //     }\n  //   );\n  //   document\n  //     .getElementById(\"recorder\")\n  //     .addEventListener(\"touchstart\", handleStartTouch);\n  //   document\n  //     .getElementById(\"recorder\")\n  //     .addEventListener(\"touchend\", handleEndTouch);\n  //   return () => (\n  //     document\n  //       .getElementById(\"recorder\")\n  //       .removeEventListener(\"touchstart\", handleStartTouch),\n  //     document\n  //       .getElementById(\"recorder\")\n  //       .addEventListener(\"touchend\", handleEndTouch)\n  //   );\n  // }, []);\n\n  const closeEmoji = () => {\n    setEmoji(false);\n  };\n\n  outslideClickListener(emojiRef, closeEmoji);\n\n  const enterListener = (e) => {\n    if (e.keyCode === 13 && !e.shiftKey) {\n      e.preventDefault();\n      if (message) {\n        handlesendButton();\n      }\n    }\n  };\n\n  const handlesendButton = () => {\n    send(message);\n    handleChangeMessage(\"\");\n    setRows(1);\n  };\n\n  const handleChange = (e) => {\n    e.persist();\n    const textareaLineHeight = 24;\n    const minRows = 1;\n    const maxRows = 3;\n\n    const previousRows = e.target.rows;\n    e.target.rows = minRows;\n\n    const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n\n    if (currentRows === previousRows) {\n      e.target.rows = currentRows;\n    }\n\n    if (currentRows >= maxRows) {\n      e.target.rows = maxRows;\n      e.target.scrollTop = e.target.scrollHeight;\n    }\n\n    handleChangeMessage(e.target.value);\n    setRows(currentRows < maxRows ? currentRows : maxRows);\n  };\n\n  const toggleEmoji = () => {\n    setEmoji(!emoji);\n  };\n\n  const addEmoji = (e) => {\n    handleChangeMessage(message + e.native);\n  };\n\n  const handleCollapse = () => {\n    if (!message) {\n      setFocused(false);\n    }\n  };\n\n  return (\n    <>\n      {emoji && (\n        <div className={classes.emojiContainer} ref={emojiRef}>\n          <Picker\n            showPreview={false}\n            showSkinTones={false}\n            title=\"Emoji\"\n            set=\"apple\"\n            onSelect={addEmoji}\n          />\n        </div>\n      )}\n      <div className={classNames(classes.input, classes[focused])}>\n        <button\n          className={classes.hide}\n          onClick={() => handleModal(\"picUpload\")}\n        >\n          <img className={classes.camera} src={camera} alt=\"upload\" />\n        </button>\n        {salesButon && (\n          <button className={classes.hide} onClick={() => handleModal(\"sale\")}>\n            <img src={bag} alt=\"Nova venda\" />\n          </button>\n        )}\n        <button onClick={toggleEmoji}>\n          <img src={emojiFace} alt=\"Emoji\" />\n        </button>\n        <textarea\n          type=\"text\"\n          rows={rows}\n          value={message}\n          onKeyDown={enterListener}\n          onChange={handleChange}\n          onFocus={() => setFocused(true)}\n          onBlur={handleCollapse}\n          placeholder=\"Digite uma mensagem\"\n        ></textarea>\n        {/* {message.length ? ( */}\n        <button onClick={() => handlesendButton()}>\n          <img src={sendImg} alt=\"Enviar\" />\n        </button>\n        {/* ) : (\n        <button\n          class={classNames(classes.record, classes[isRecording])}\n          id=\"recorder\"\n          onClick={handleRecord}\n        >\n          <img src={mic} alt=\"Enviar áudio\" />\n        </button>\n        )}\n        <audio src={this.state.blobURL} controls=\"controls\" hidden /> */}\n      </div>\n    </>\n  );\n};\n\nexport default MessageField;\n","import { useEffect } from \"react\";\n\nexport default (ref, funct) => {\n    useEffect(() => {\n        function handleClickOutside(event) {\n            if (ref.current && !ref.current.contains(event.target)) {\n                funct(event);\n            }\n        }\n\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        document.addEventListener(\"touchstart\", handleClickOutside);\n        return () => {\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n            document.removeEventListener(\"touchstart\", handleClickOutside);\n        };\n    }, [ref]);\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport clock from \"../../../assets/images/clock.svg\";\n\nimport classes from \"./index.module.css\";\nimport FormattedSpan from \"../../../hooks/FormattedSpan\";\n\nconst PureText = ({ message, isGroup }) => {\n  const agents = window.agents;\n\n  let senderName = \"WhatsApp\";\n\n  if (message.agentId) {\n    senderName = agents[message.agentId].fullName;\n  }\n\n  return (\n    <div>\n      <div className={classes.message}>\n        {isGroup && !message.mine && <p>{message.sender}</p>}\n        {message.agentId && <p>{senderName}</p>}\n        <div className={classes.msg}>\n          <FormattedSpan text={message.body} />\n          <span className={classes.buffer}></span>\n        </div>\n      </div>\n      <div className={classes.time}>\n        <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n        {message.sending && <img src={clock} alt=\"Sending\" />}\n      </div>\n    </div>\n  );\n};\n\nexport default PureText;\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport classes from \"./index.module.css\";\nimport FormattedSpan from \"../../../hooks/FormattedSpan\";\nimport { url } from \"../../../connector\";\n\nconst Image = ({ message, isGroup, showMedia }) => (\n  <div>\n    <div className={classes.message}>\n      {isGroup && !message.mine && <p>{message.sender}</p>}\n      <div\n        className={classes.image}\n        onClick={() => showMedia(\"image\", message.messageId)}\n        style={{\n          backgroundImage: `url(data:image/jpg;base64,${message.body})`,\n        }}\n      >\n        <div\n          className={classes.highResImg}\n          style={{\n            backgroundImage: `url(${url}chats/download/${message.messageId}?access_token=${localStorage.access_token})`,\n          }}\n        />\n      </div>\n      {message.caption && (\n        <div className={classes.msg}>\n          <FormattedSpan text={message.caption} />\n          <span className={classes.buffer}></span>\n        </div>\n      )}\n    </div>\n    <div className={classes.time}>\n      <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n    </div>\n  </div>\n);\n\nexport default Image;\n","import React from \"react\";\n\nimport classes from \"./index.module.css\";\n\nconst Sale = ({ message }) => (\n  <div className={classes.sale}>\n    <p>{message.body}</p>\n  </div>\n);\n\nexport default Sale;\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport classNames from \"classnames\";\n\nimport { url } from \"../../../connector\";\n\nimport classes from \"./index.module.css\";\n\nconst VoiceMessage = ({ message, isGroup }) => {\n  const [audio, setAudio] = useState(null);\n  const [playing, setPlaying] = useState(false);\n\n  const toggle = async () => {\n    setPlaying(!playing);\n  };\n\n  useEffect(() => {\n    try {\n      setAudio(\n        new Audio(\n          `${url}chats/download/${message.messageId}?access_token=${localStorage.access_token}`\n        )\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }, [message.messageId]);\n\n  useEffect(() => {\n    if (audio) {\n      try {\n        const sounds = document.getElementsByTagName(\"audio\");\n        for (let i = 0; i < sounds.length; i++) sounds[i].pause();\n        playing ? audio.play() : audio.pause();\n        audio.addEventListener(\"ended\", () => setPlaying(false));\n\n        return () => {\n          audio.removeEventListener(\"ended\", () => setPlaying(false));\n        };\n      } catch (e) {\n        alert(\"erro ao reproduzir!\");\n        console.log(e);\n      }\n    }\n  }, [playing, audio]);\n\n  return (\n    <div>\n      <div>\n        <div className={classes.message}>\n          {isGroup && !message.mine && <p>{message.sender}</p>}\n          <div className={classes.msg}>\n            <div onClick={toggle} className={classes.audio}>\n              <div\n                className={classNames(\n                  playing ? classes.paused : null,\n                  classes.audioController\n                )}\n              ></div>\n            </div>\n          </div>\n        </div>\n        <div className={classes.time}>\n          <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceMessage;\n","import React from \"react\";\nimport moment from \"moment\";\n\nimport { url } from \"../../../connector\";\n\nimport classes from \"./index.module.css\";\n\nconst Sticker = ({ message, isGroup }) => (\n  <div className={classes.noBg}>\n    <div className={classes.message}>\n      {isGroup && !message.mine && <p>{message.sender}</p>}\n      <div className={classes.sticker}>\n        <img\n          src={`${url}chats/download/${message.messageId}?access_token=${localStorage.access_token}`}\n          alt=\"Adesivo\"\n        />\n      </div>\n    </div>\n    <div className={classes.time}>\n      <p>{moment(message.timestamp).format(\"HH:mm\")}</p>\n    </div>\n  </div>\n);\n\nexport default Sticker;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport PureText from \"./PureText\";\nimport Image from \"./Image\";\nimport Sale from \"./Sale\";\nimport VoiceMessage from \"./VoiceMessage\";\nimport Sticker from \"./Sticker\";\n\nconst Bubble = ({ message, isGroup, showMedia }) => {\n  const side = message.mine ? classes.right : classes.left;\n  let opacity = 1;\n  if (message.sending) {\n    opacity = 0.8;\n  }\n\n  let BubbleComponent;\n  if (message.type === \"chat\") {\n    BubbleComponent = PureText;\n  } else if (message.type === \"image\") {\n    BubbleComponent = Image;\n  } else if (message.type === \"sticker\") {\n    BubbleComponent = Sticker;\n  } else if (message.type === \"ptt\") {\n    BubbleComponent = VoiceMessage;\n  }\n\n  if (message.type ==='sale') {\n    return (\n      <div className={classes.container}>\n        <Sale message={message} />\n      </div>\n    );\n  } else if (BubbleComponent) {\n    return (\n      <div className={classNames(classes.container, side)} style={{ opacity }}>\n        <BubbleComponent\n          showMedia={showMedia}\n          message={message}\n          isGroup={isGroup}\n        />\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default Bubble;\n","import React from \"react\";\nimport moment from \"moment\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\n\nconst calendarTexts = {\n  sameDay: \"[Hoje]\",\n  lastDay: \"[Ontem]\",\n  lastWeek: \"dddd\",\n  sameElse: \"DD/MM/YYYY\",\n};\n\nconst Day = ({ day }) => (\n  <div className={classNames(classes.container, classes.center)}>\n    <div className={classes.day}>{moment(day).calendar(calendarTexts)}</div>\n  </div>\n);\n\nexport default Day;\n","import React, { Fragment, useState, useRef, useEffect } from \"react\";\nimport moment from \"moment\";\n\nimport classes from \"./index.module.css\";\nimport Spinner from \"../Spinner\";\nimport MessageField from \"./MessageField\";\nimport Bubble from \"./Bubble\";\nimport Day from \"./Bubble/Day\";\n\nconst Chat = ({\n  messages,\n  more,\n  handleModal,\n  loading,\n  chatId,\n  handleLoadMore,\n  send,\n  showMedia,\n}) => {\n  const [message, setMessage] = useState(\"\");\n  const isGroup = chatId.includes(\"-\");\n  const messagesEndRef = useRef();\n\n  let lastDay = new Date(messages[0].timestamp);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView();\n  };\n\n  useEffect(scrollToBottom, []);\n\n  return (\n    <div className={classes.chat}>\n      <div className={classes.scroll}>\n        <div className={classes.container}>\n          <div ref={messagesEndRef} />\n          <>\n            {messages.length &&\n              messages.map((msg, i) => {\n                const m = { ...msg };\n                const last = lastDay;\n                const current = m.timestamp;\n                if (m.mine && !m.agentId) {\n                  m.agentId = \"wpp\";\n                }\n                lastDay = current;\n                if (m === \"none\" || m.chatId !== chatId) {\n                  return;\n                } else if (i === messages.length - 1) {\n                  return (\n                    <Fragment key={m.messageId}>\n                      <Bubble\n                        showMedia={showMedia}\n                        key={m.messageId}\n                        message={m}\n                        isGroup={isGroup}\n                      />\n                      <Day day={last} />\n                    </Fragment>\n                  );\n                } else if (!moment(last).isSame(lastDay, \"day\")) {\n                  return (\n                    <Fragment key={m.messageId}>\n                      <Day day={last} />\n                      <Bubble\n                        showMedia={showMedia}\n                        message={m}\n                        isGroup={isGroup}\n                      />\n                    </Fragment>\n                  );\n                } else {\n                  return (\n                    <Bubble\n                      showMedia={showMedia}\n                      key={m.messageId}\n                      message={m}\n                      isGroup={isGroup}\n                    />\n                  );\n                }\n              })}\n            {loading && <Spinner />}\n            {more && (\n              <div onClick={handleLoadMore} className={classes.loadMore}>\n                Carregar mais\n              </div>\n            )}\n          </>\n        </div>\n      </div>\n      <MessageField\n        handleModal={handleModal}\n        message={message}\n        handleChangeMessage={setMessage}\n        send={send}\n      />\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\n\nconst NoChat = ({ showing }) => (\n  <div\n    className={classNames(\n      classes.centerContainer,\n      classes.noChat,\n      \"mobile-fillWidth\",\n      showing\n    )}\n  >\n    <h1>Selecione uma conversa no chat ao lado</h1>\n  </div>\n);\n\nexport default NoChat;\n","import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\n\nimport classes from \"./index.module.css\";\nimport swap from \"../../assets/images/swap.svg\";\nimport { idToPhone } from \"../../hooks/helpers\";\n\nconst ContactDetails = ({\n  data,\n  handleClose,\n  handleChangeName,\n  show,\n  handlePin,\n}) => {\n  const [name, setName] = useState(data.displayName);\n  const [savedName, setSavedName] = useState(data.displayName);\n  const [showHint, setShowHint] = useState(false);\n  const [attendant, setAttendant] = useState(\"\");\n\n  useEffect(() => {\n    setName(data.displayName);\n    setSavedName(data.displayName);\n  }, [data.displayName]);\n\n  useEffect(() => {\n    if (data.agentId) {\n      const attendant = JSON.parse(localStorage.agents)[data.agentId];\n      setAttendant(attendant.fullName);\n    } else {\n      setAttendant();\n    }\n  }, [data]);\n\n  const enterListener = async (e) => {\n    if (e.keyCode === 13) {\n      handleChangeName(name);\n      e.target.blur();\n      setSavedName(name);\n      setName(name);\n    }\n  };\n\n  const handleFocus = () => {\n    setShowHint(true);\n  };\n\n  const handleBlur = () => {\n    setName(savedName);\n    setShowHint(false);\n  };\n\n  const handleEsc = (e) => {\n    if (e.keyCode === 27) {\n      handleClose();\n    }\n  };\n\n  useEffect(() => {\n    handleClose();\n  }, [data.chatId]);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleEsc, false);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc, false);\n    };\n  }, []);\n\n  const handleSwapAgent = () => {\n    if (data.agentId === window.me) {\n      handlePin(true);\n    } else {\n      handlePin(false);\n    }\n  };\n\n  return (\n    <div className={classNames(classes.container, classes[show])}>\n      <div className={classes.close} onClick={handleClose}>\n        &times;\n      </div>\n      <img className={classes.profilePic} src={data.profilePic} alt=\"\" />\n      <div className={classes.dataContainer}>\n        <input\n          className={classes.nameInput}\n          type=\"text\"\n          value={name}\n          onKeyDown={enterListener}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          onChange={(e) => setName(e.target.value)}\n        />\n        {showHint && (\n          <div className={classes.hintBubble}>\n            Aperte enter para salvar ou clique fora do campo para cancelar\n          </div>\n        )}\n        <h3>{idToPhone(data.chatId)}</h3>\n        <div className={classes.salesAgent}>\n          <h2>Atendente: {attendant || \"Nenhum\"}</h2>\n          <button onClick={handleSwapAgent}>\n            <img src={swap} alt=\"Trocar\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ContactDetails;\n","import React, { useState } from \"react\";\nimport classNames from \"classnames\";\n\nimport Header from \"./Header\";\nimport ChatBox from \"./ChatBox\";\nimport NoChat from \"./NoChat\";\n\nimport classes from \"./index.module.css\";\nimport ContactDetails from \"./ContactDetails\";\n\nconst Chat = ({\n  chat,\n  handleChangeName,\n  handleSend,\n  handleLoadMore,\n  handleModal,\n  showMedia,\n  showing,\n  handlePin,\n  handleBack,\n}) => {\n  const [showDetails, setShowDetails] = useState(false);\n  if (chat) {\n    return (\n      <div\n        className={classNames(\n          classes.chatContainer,\n          \"mobile-fullwidth\",\n          showing\n        )}\n      >\n        <Header\n          data={chat}\n          handleBack={handleBack}\n          handleToggleDetails={() => setShowDetails(!showDetails)}\n          />\n        <ChatBox\n          handleModal={handleModal}\n          showMedia={showMedia}\n          handleLoadMore={handleLoadMore}\n          send={handleSend}\n          more={chat.more}\n          chatId={chat.chatId}\n          handleChangeName={handleChangeName}\n          messages={chat.messages}\n          loading={chat.firstClick}\n          />\n        <ContactDetails\n          show={showDetails}\n          data={chat}\n          handlePin={handlePin}\n          handleChangeName={handleChangeName}\n          handleClose={() => setShowDetails(false)}\n        />\n      </div>\n    );\n  } else {\n    return <NoChat showing={showing} />;\n  }\n};\n\nexport default Chat;\n","import React, { useState, useEffect } from \"react\";\nimport Lightbox from \"react-image-lightbox\";\nimport classNames from \"classnames\";\nimport NumberFormat from \"react-number-format\";\nimport _ from \"lodash\";\n\nimport { url } from \"../connector\";\n\nimport \"react-image-lightbox/style.css\";\nimport classes from \"./modal.module.css\";\n\nimport logo from \"../assets/images/logo.png\";\nimport loading from \"../assets/images/loading.gif\";\n\nconst localSettings = JSON.parse(localStorage.settings || 1);\n\nconst Modal = ({\n  file,\n  onClose,\n  handleSendImage,\n  handleNewChat,\n  handleLogin,\n  handleUpload,\n  selectUser,\n  saveSales,\n  handleChangeSettings,\n  passiveSearch,\n}) => {\n  const [message, setMessage] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n  const [settings, setSettings] = useState(\n    (file && file.settings) || localSettings\n  );\n\n  useEffect(() => {\n    setButtonDisabled(false);\n    setMessage(\"\");\n    setNumber(\"\");\n    setPassword(\"\");\n    if (file && file.newNumber) {\n      setNumber(file.newNumber);\n    } else if (file && file.type === \"sale\") {\n      setNumber(\"sale\");\n    }\n  }, [file]);\n\n  const sendImage = (e) => {\n    e.preventDefault();\n    setButtonDisabled(true);\n    handleSendImage(message);\n  };\n\n  const addContact = (e) => {\n    e.preventDefault();\n    if (!number.match(/^\\(\\d{2}\\) \\d{5}-\\d{4}$/g)) {\n      alert(\"Número inválido\");\n      return;\n    }\n\n    setButtonDisabled(true);\n    const chat = \"55\" + number.replace(/\\D/g, \"\") + \"@c.us\";\n    handleNewChat(number, chat);\n  };\n\n  const login = (e) => {\n    e.preventDefault();\n    if (!message || !password) {\n      alert(\"Insira seu usuário e senha!\");\n      return;\n    }\n    handleLogin(message, password);\n  };\n\n  const handleSaveSale = () => {\n    const items = message;\n    const value = password;\n    const type = number;\n    const nbrRegex = /^[0-9]{1,4}([.,][0-9]{1,2})?$/g;\n    if (\n      !items.match(nbrRegex) ||\n      (number === \"sale\" && !value.match(nbrRegex))\n    ) {\n      alert(\"Dados inválidos. Verifique os números\");\n      return;\n    }\n    const salesInfo = {\n      itemCount: items.replace(\",\", \".\"),\n      totalValue: value.replace(\",\", \".\"),\n      type,\n    };\n    setButtonDisabled(true);\n    saveSales(salesInfo);\n  };\n\n  const handlePickUser = () => {\n    if (message) {\n      selectUser(message);\n    } else {\n      alert(\"Você deve selecionar um(a) vendedor(a)\");\n    }\n  };\n\n  const changeSettings = ({ target }) => {\n    console.log(target.name, target.checked);\n    const newSettings = { ...settings, [target.name]: target.checked };\n    setSettings(newSettings);\n    handleChangeSettings(newSettings);\n  };\n\n  const changeSalesAgent = (value) => {\n    const agent = window.agents[localStorage.salesAgentId];\n    setMessage(value);\n    localStorage.setItem(\"salesAgentId\", value);\n    localStorage.setItem(\"salesAgentProfile\", JSON.stringify(agent));\n  };\n\n  const handleNumber = (number) => {\n    setNumber(number);\n    console.log(number);\n    if (number.length > 12 && number[13].match(/\\d/)) {\n      const chat = \"55\" + number.replace(/\\D/g, \"\");\n      passiveSearch(chat);\n    }\n  };\n\n  if (file && file.type === \"image\") {\n    return (\n      <Lightbox\n        imagePadding={32}\n        mainSrc={`${url}chats/download/${file.id}?access_token=${localStorage.access_token}`}\n        onCloseRequest={onClose}\n      />\n    );\n  } else if (file && file.type === \"qr\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <p>{file.update}</p>\n          <h2>Escaneie o QR code pelo WhatsApp</h2>\n          <img\n            className={classes.qr}\n            src={`${url}chats/qr?access_token=${file.token}&${file.update}`}\n            alt=\"QR code\"\n          />\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"video\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classes.modal}>\n          <video src={`${url}chats/download/${file.id}`} alt=\"Vídeo\" autoPlay />\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"offline\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <h1>\n            Parece que o celular principal não está online. Verifique e aguarde.\n          </h1>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"picUpload\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h1>Enviar imagem</h1>\n          <label htmlFor=\"upload-button\">\n            <div className={classes.button}>Tirar foto agora</div>\n          </label>\n          <input\n            type=\"file\"\n            accept=\"image/*,video/*\"\n            capture\n            id=\"upload-button\"\n            style={{ display: \"none\" }}\n            onChange={handleUpload}\n          />\n          <label htmlFor=\"upload-button2\">\n            <div className={classes.button}>Enviar foto do dispositivo</div>\n          </label>\n          <input\n            type=\"file\"\n            accept=\"image/*,video/*\"\n            id=\"upload-button2\"\n            style={{ display: \"none\" }}\n            onChange={handleUpload}\n          />\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"photoUpload\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          {file.format === \"video\" ? (\n            <video controls src={URL.createObjectURL(file.data)} />\n          ) : (\n            <img src={URL.createObjectURL(file.data)} alt=\"Imagem\" />\n          )}\n          <form onSubmit={sendImage}>\n            <input\n              type=\"text\"\n              placeholder=\"Mensagem\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={sendImage}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Enviar\"\n            )}\n          </button>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"newChat\") {\n    let options;\n    if (window.agents) {\n      options = [];\n      _.forEach(window.agents, (a, k) => {\n        if (a.username && a.isSalesAgent) {\n          options.push([k, a.fullName]);\n        }\n      });\n    }\n\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          {file.newNumber && localStorage.salesAgentId && (\n            <>\n              <h2>Vendedor(a):</h2>\n              <form action=\"null\">\n                <select\n                  value={localStorage.salesAgentId}\n                  onChange={(e) => changeSalesAgent(e.target.value)}\n                >\n                  <option value=\"\" disabled>\n                    Selecione...\n                  </option>\n                  {options.map((a) => (\n                    <option value={a[0]} key={a[0]}>\n                      {a[1]}\n                    </option>\n                  ))}\n                </select>\n              </form>\n            </>\n          )}\n          <h2>Número:</h2>\n          <form onSubmit={addContact}>\n            <NumberFormat\n              type=\"tel\"\n              placeholder=\"Celular\"\n              format=\"(##) #####-####\"\n              value={number}\n              onValueChange={({ formattedValue }) =>\n                handleNumber(formattedValue)\n              }\n            />\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={addContact}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Salvar\"\n            )}\n          </button>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"selectUser\") {\n    let options;\n    if (window.agents) {\n      options = [];\n      _.forEach(window.agents, (a, k) => {\n        if (a.username && a.isSalesAgent) {\n          options.push([k, a.fullName]);\n        }\n      });\n    }\n\n    return (\n      <>\n        <div className={classes.modalBackground} onClick={onclose} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h2>Vendedor(a)</h2>\n          <form action=\"null\">\n            <select\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            >\n              <option value=\"\" disabled>\n                Selecione...\n              </option>\n              {options.map((a) => (\n                <option value={a[0]} key={a[0]}>\n                  {a[1]}\n                </option>\n              ))}\n            </select>\n          </form>\n          <button disabled={buttonDisabled} onClick={handlePickUser}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Entrar\"\n            )}\n          </button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"login\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <img className={classes.logo} src={logo} alt=\"Zoppy\" />\n          <h2>Acesse sua conta</h2>\n          <form onSubmit={login} noValidate>\n            <input\n              type=\"email\"\n              placeholder=\"usuário\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              placeholder=\"senha\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={login}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Entrar\"\n            )}\n          </button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"settings\") {\n    return (\n      <>\n        <div onClick={onClose} className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <div className={classes.settings}>\n            <h2>Configurações</h2>\n            <label>\n              Selecionar vendedor\n              <input\n                type=\"checkbox\"\n                name=\"manageUsersLocally\"\n                checked={settings.manageUsersLocally}\n                onChange={changeSettings}\n              />\n            </label>\n            <br />\n            <br />\n            <label>\n              Mostrar opções de conversão\n              <input\n                type=\"checkbox\"\n                name=\"salesOptions\"\n                checked={settings.salesOptions}\n                onChange={changeSettings}\n              />\n            </label>\n          </div>\n          <button disabled={buttonDisabled} onClick={onClose}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"Salvar\"\n            )}\n          </button>\n        </div>\n      </>\n    );\n  } else if (file && file.type === \"sale\") {\n    return (\n      <>\n        <div className={classes.modalBackground} />\n        <div className={classNames(classes.modal, classes.opaque)}>\n          <div onClick={onClose} className={classes.close}>\n            &times;\n          </div>\n          <h2>Venda</h2>\n          <form action=\"\" onSubmit={handleSaveSale} noValidate>\n            <input\n              type=\"number\"\n              placeholder=\"Num. itens\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n            />\n            <div className={classes.saleType}>\n              <input\n                checked={number === \"sale\"}\n                onChange={() => setNumber(\"sale\")}\n                type=\"radio\"\n                name=\"saleType\"\n                id=\"sale\"\n              />\n              <label htmlFor=\"sale\">Venda</label>\n              <input\n                checked={number === \"bag\"}\n                onChange={() => setNumber(\"bag\")}\n                type=\"radio\"\n                name=\"saleType\"\n                id=\"bag\"\n              />\n              <label htmlFor=\"bag\">Malinha</label>\n            </div>\n            {number === \"sale\" ? (\n              <input\n                type=\"number\"\n                placeholder=\"Valor total\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            ) : null}\n            <input type=\"submit\" hidden />\n          </form>\n          <button disabled={buttonDisabled} onClick={handleSaveSale}>\n            {buttonDisabled ? (\n              <img src={loading} alt=\"loading spinner\" />\n            ) : (\n              \"salvar\"\n            )}\n          </button>\n          <form action=\"\"></form>\n        </div>\n      </>\n    );\n  }\n  return null;\n};\n\nexport default Modal;\n","import { useEffect, useRef } from \"react\";\n\nexport default (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n              window.location.reload();\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {version} from \"../package.json\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\nwindow.VERSION = version;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__29fRv\",\"centerContainer\":\"Chat_centerContainer__1LA92\",\"noChat\":\"Chat_noChat___DfYh\",\"header\":\"Chat_header__2dzwL\",\"profilePic\":\"Chat_profilePic__2p-2l\",\"name\":\"Chat_name__17zfT\",\"pinContainer\":\"Chat_pinContainer__2II5G\",\"active\":\"Chat_active__2ZvGz\",\"arrow\":\"Chat_arrow__qAVEu\",\"headerContent\":\"Chat_headerContent__1bIab\",\"nameInput\":\"Chat_nameInput__Njdoa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"ChatBox_chat__34TQL\",\"scroll\":\"ChatBox_scroll__2scZ8\",\"container\":\"ChatBox_container__3sVfA\",\"input\":\"ChatBox_input__38Djo\",\"loadMore\":\"ChatBox_loadMore__B8DE2\",\"linearActivity\":\"ChatBox_linearActivity__23EWW\",\"indeterminate\":\"ChatBox_indeterminate__2Mcdq\",\"indeterminate_first\":\"ChatBox_indeterminate_first__1rI0J\",\"indeterminate_second\":\"ChatBox_indeterminate_second__3zO2b\",\"emojiContainer\":\"ChatBox_emojiContainer__1493Q\",\"true\":\"ChatBox_true__1drss\",\"hide\":\"ChatBox_hide__3VJj2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContactDetails_container__1YRuT\",\"true\":\"ContactDetails_true__2fw43\",\"close\":\"ContactDetails_close__xIkNr\",\"profilePic\":\"ContactDetails_profilePic__2pL1H\",\"dataContainer\":\"ContactDetails_dataContainer__2DRX-\",\"nameInput\":\"ContactDetails_nameInput__ATxfT\",\"hintBubble\":\"ContactDetails_hintBubble__2V9sb\",\"salesAgent\":\"ContactDetails_salesAgent__1gra5\"};","module.exports = __webpack_public_path__ + \"static/media/loading.a8a6c239.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackground\":\"modal_modalBackground__2bcES\",\"modal\":\"modal_modal__2sHWD\",\"opaque\":\"modal_opaque__Y1FSs\",\"button\":\"modal_button__YYNXp\",\"close\":\"modal_close__2_ut9\",\"logo\":\"modal_logo__EhvJ6\",\"qr\":\"modal_qr__1dgA0\",\"saleType\":\"modal_saleType__K5u6e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__3ZkGI\",\"container\":\"App_container__1MQN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spinner_container__ZXxv9\",\"loader\":\"Spinner_loader__2t1M8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Bubble_container__3zp6Q\",\"left\":\"Bubble_left__2T7Ej\",\"right\":\"Bubble_right__3dgP0\",\"center\":\"Bubble_center__3iFQQ\",\"time\":\"Bubble_time__3nKUc\",\"sale\":\"Bubble_sale__FweD3\",\"message\":\"Bubble_message__hkENb\",\"buffer\":\"Bubble_buffer__2LMrl\",\"day\":\"Bubble_day__1fmhW\",\"image\":\"Bubble_image__2IoNd\",\"sticker\":\"Bubble_sticker__UpjsJ\",\"noBg\":\"Bubble_noBg__396Lo\",\"audio\":\"Bubble_audio__Mur7g\",\"audioController\":\"Bubble_audioController__1JJCY\",\"paused\":\"Bubble_paused__1bGIe\",\"msg\":\"Bubble_msg__2OJd2\"};","module.exports = __webpack_public_path__ + \"static/media/call.b99d263b.svg\";","module.exports = __webpack_public_path__ + \"static/media/share.d34411d2.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/changeUser.1b5e264a.svg\";","module.exports = __webpack_public_path__ + \"static/media/gear.55916372.svg\";","module.exports = __webpack_public_path__ + \"static/media/notification.84551526.ogg\";","module.exports = __webpack_public_path__ + \"static/media/red.85db7c61.svg\";","module.exports = __webpack_public_path__ + \"static/media/green.4d30aa8d.svg\";","module.exports = __webpack_public_path__ + \"static/media/yellow.56cd449d.svg\";","module.exports = __webpack_public_path__ + \"static/media/blue.28c2945e.svg\";","module.exports = __webpack_public_path__ + \"static/media/orange.19fe89e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/purple.115cc2cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/back.314283b0.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.b0b5778d.svg\";","module.exports = __webpack_public_path__ + \"static/media/emoji.872f3332.svg\";"],"sourceRoot":""}